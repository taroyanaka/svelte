var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function _(){return p(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){e=""+e,t.data!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}let g;function w(t){g=t}function E(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const x=[],y=[];let k=[];const v=[],b=Promise.resolve();let $=!1;function O(t){k.push(t)}const S=new Set;let j=0;function D(){if(0!==j)return;const t=g;do{try{for(;j<x.length;){const t=x[j];j++,w(t),C(t.$$)}}catch(t){throw x.length=0,j=0,t}for(w(null),x.length=0,j=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];S.has(e)||(S.add(e),e())}k.length=0}while(x.length);for(;v.length;)v.pop()();$=!1,S.clear(),w(t)}function C(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const P=new Set;function A(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),k=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(x.push(t),$||($=!0,b.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(a,s,c,i,u,p,_,f=[-1]){const h=g;w(a);const d=a.$$={fragment:null,ctx:[],props:p,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:s.target||h.$$.root};_&&_(d.root);let m=!1;if(d.ctx=c?c(a,s.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return d.ctx&&u(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),m&&T(a,t)),e})):[],d.update(),m=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);d.fragment&&d.fragment.l(t),t.forEach(r)}else d.fragment&&d.fragment.c();s.intro&&((E=a.$$.fragment)&&E.i&&(P.delete(E),E.i(x))),function(t,n,a,s){const{fragment:c,after_update:r}=t.$$;c&&c.m(n,a),s||O((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),r.forEach(O)}(a,s.target,s.anchor,s.customElement),D()}var E,x;w(h)}class N{$destroy(){A(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function L(t,e,n){const o=t.slice();return o[67]=e[n],o[69]=n,o}function M(t,e,n){const o=t.slice();return o[70]=e[n],o[72]=n,o}function q(t,e,n){const o=t.slice();return o[73]=e[n],o[72]=n,o}function U(t,e,n){const o=t.slice();return o[67]=e[n],o[69]=n,o}function B(t,e,n){const o=t.slice();return o[67]=e[n],o[69]=n,o}function G(t,e,n){const o=t.slice();return o[77]=e[n],o[72]=n,o}function Q(e){let n,o,l;return{c(){n=u("button"),n.textContent="remove_error_message"},m(t,a){c(t,n,a),o||(l=f(n,"click",e[29]),o=!0)},p:t,d(t){t&&r(n),o=!1,l()}}}function Y(t){let e,n,o,l=t[77].tag+"";return{c(){e=u("span"),n=p(l),o=p(", ")},m(t,l){c(t,e,l),s(e,n),s(e,o)},p(t,e){1&e[0]&&l!==(l=t[77].tag+"")&&d(n,l)},d(t){t&&r(e)}}}function z(t){let e,n;return{c(){e=u("option"),e.__value=n=t[67].tag,e.value=e.__value},m(t,n){c(t,e,n)},p(t,o){256&o[0]&&n!==(n=t[67].tag)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function I(e){let n;return{c(){n=u("span"),n.textContent="😇"},m(t,e){c(t,n,e)},p:t,d(t){t&&r(n)}}}function F(t){let e,n,o,a,i,h,m,g,w,E,x,y,k=t[73].reply+"",v=t[73].username+"";return{c(){e=u("li"),n=p("reply: "),o=p(k),a=_(),i=u("li"),h=p("username: "),m=p(v),g=_(),w=u("button"),w.textContent="fetch_delete_comment_reply",E=_()},m(r,u){c(r,e,u),s(e,n),s(e,o),c(r,a,u),c(r,i,u),s(i,h),s(i,m),c(r,g,u),c(r,w,u),c(r,E,u),x||(y=f(w,"click",(function(){l(t[26](t[73].id))&&t[26](t[73].id).apply(this,arguments)})),x=!0)},p(e,n){t=e,1&n[0]&&k!==(k=t[73].reply+"")&&d(o,k),1&n[0]&&v!==(v=t[73].username+"")&&d(m,v)},d(t){t&&r(e),t&&r(a),t&&r(i),t&&r(g),t&&r(w),t&&r(E),x=!1,y()}}}function J(t){let e,n,a,g,w,E,x,y,k,v,b,$,O,R,S,j,D,C,P,A,T,K,N,L,M,U,B,G,Q=t[70][t[72]].comment+"",Y=t[70][t[72]].created_at+"",z=t[70][t[72]].updated_at+"",I=t[70][t[72]].username+"",J=t[70].comment_replies,H=[];for(let e=0;e<J.length;e+=1)H[e]=F(q(t,J,e));return{c(){e=u("li"),n=p("comment: "),a=p(Q),g=_(),w=u("li"),E=p("created_at: "),x=p(Y),y=_(),k=u("button"),k.textContent="fetch_delete_comment",v=_(),b=u("li"),$=p("updated_at: "),O=p(z),R=_(),S=u("li"),j=p("username: "),D=p(I),C=_(),P=u("input"),A=_(),T=u("button"),T.textContent="fetch_insert_comment_reply",K=_(),N=u("li"),L=p("comment_replies:\n\t\t\t\t"),M=u("ul");for(let t=0;t<H.length;t+=1)H[t].c();U=_(),h(P,"type","text"),h(P,"placeholder","comment_reply"),h(N,"class","reply_zone svelte-1bjmpqx")},m(o,r){c(o,e,r),s(e,n),s(e,a),c(o,g,r),c(o,w,r),s(w,E),s(w,x),c(o,y,r),c(o,k,r),c(o,v,r),c(o,b,r),s(b,$),s(b,O),c(o,R,r),c(o,S,r),s(S,j),s(S,D),c(o,C,r),c(o,P,r),m(P,t[6]),c(o,A,r),c(o,T,r),c(o,K,r),c(o,N,r),s(N,L),s(N,M);for(let t=0;t<H.length;t+=1)H[t]&&H[t].m(M,null);c(o,U,r),B||(G=[f(k,"click",(function(){l(t[24](t[70][t[72]].id))&&t[24](t[70][t[72]].id).apply(this,arguments)})),f(P,"input",t[48]),f(T,"click",(function(){l(t[25](t[70][t[72]].id))&&t[25](t[70][t[72]].id).apply(this,arguments)}))],B=!0)},p(e,n){if(t=e,1&n[0]&&Q!==(Q=t[70][t[72]].comment+"")&&d(a,Q),1&n[0]&&Y!==(Y=t[70][t[72]].created_at+"")&&d(x,Y),1&n[0]&&z!==(z=t[70][t[72]].updated_at+"")&&d(O,z),1&n[0]&&I!==(I=t[70][t[72]].username+"")&&d(D,I),64&n[0]&&P.value!==t[6]&&m(P,t[6]),67108865&n[0]){let e;for(J=t[70].comment_replies,e=0;e<J.length;e+=1){const o=q(t,J,e);H[e]?H[e].p(o,n):(H[e]=F(o),H[e].c(),H[e].m(M,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=J.length}},d(t){t&&r(e),t&&r(g),t&&r(w),t&&r(y),t&&r(k),t&&r(v),t&&r(b),t&&r(R),t&&r(S),t&&r(C),t&&r(P),t&&r(A),t&&r(T),t&&r(K),t&&r(N),i(H,t),t&&r(U),B=!1,o(G)}}}function H(t){let e,n,a,g,w,E,x,y,k,v,b,$,O,R,S,j,D,C,P,A,T,K,N,L,q,Q,F,H,V,W,X,Z,tt,et,nt,ot=t[67].link+"",lt=t[67].created_at+"",at=t[67].username+"",st=t[67].tags,ct=[];for(let e=0;e<st.length;e+=1)ct[e]=Y(G(t,st,e));let rt=t[8],it=[];for(let e=0;e<rt.length;e+=1)it[e]=z(B(t,rt,e));let ut=Array(t[67].like_count),pt=[];for(let e=0;e<ut.length;e+=1)pt[e]=I(U(t,ut,e));let _t=t[67].comments_and_replies,ft=[];for(let e=0;e<_t.length;e+=1)ft[e]=J(M(t,_t,e));return{c(){e=u("li"),n=u("div"),a=p("tag: \n\t\t\t");for(let t=0;t<ct.length;t+=1)ct[t].c();g=_(),w=u("div"),E=u("input"),x=_(),y=u("datalist");for(let t=0;t<it.length;t+=1)it[t].c();k=_(),v=u("button"),v.textContent="fetch_insert_tag",b=_(),$=u("a"),O=p(ot),S=_(),j=u("div"),D=p("created_at: "),C=p(lt),P=_(),A=u("div"),T=p("username: "),K=p(at),N=_();for(let t=0;t<pt.length;t+=1)pt[t].c();L=_(),q=u("button"),q.textContent="like_increment_or_decrement",Q=_(),F=u("div"),H=u("input"),V=_(),W=u("button"),W.textContent="fetch_insert_comment",X=_(),Z=u("ul");for(let t=0;t<ft.length;t+=1)ft[t].c();tt=_(),h(n,"class","svelte-1bjmpqx"),h(E,"list","autocomplete_list"),h(E,"type","text"),h(E,"name",""),h(E,"id","hoge"),h(E,"placeholder","tag"),h(y,"id","autocomplete_list"),h(w,"class","svelte-1bjmpqx"),h($,"href",R=t[67].link),h($,"target","_blank"),h(j,"class","svelte-1bjmpqx"),h(A,"class","svelte-1bjmpqx"),h(H,"type","text"),h(H,"name",""),h(H,"id",""),h(H,"placeholder","comment"),h(F,"class","svelte-1bjmpqx"),h(Z,"class","comment_zone svelte-1bjmpqx")},m(o,r){c(o,e,r),s(e,n),s(n,a);for(let t=0;t<ct.length;t+=1)ct[t]&&ct[t].m(n,null);s(e,g),s(e,w),s(w,E),t[45](E),m(E,t[7]),s(w,x),s(w,y);for(let t=0;t<it.length;t+=1)it[t]&&it[t].m(y,null);s(w,k),s(w,v),s(e,b),s(e,$),s($,O),s(e,S),s(e,j),s(j,D),s(j,C),s(e,P),s(e,A),s(A,T),s(A,K),s(e,N);for(let t=0;t<pt.length;t+=1)pt[t]&&pt[t].m(e,null);s(e,L),s(e,q),s(e,Q),s(e,F),s(F,H),m(H,t[5]),s(F,V),s(F,W),s(e,X),s(e,Z);for(let t=0;t<ft.length;t+=1)ft[t]&&ft[t].m(Z,null);s(e,tt),et||(nt=[f(E,"input",t[46]),f(E,"input",t[28]),f(v,"click",(function(){l(t[27](t[67].id))&&t[27](t[67].id).apply(this,arguments)})),f(q,"click",(function(){l(t[22](t[67].id))&&t[22](t[67].id).apply(this,arguments)})),f(H,"input",t[47]),f(W,"click",(function(){l(t[23](t[67].id))&&t[23](t[67].id).apply(this,arguments)}))],et=!0)},p(o,l){if(t=o,1&l[0]){let e;for(st=t[67].tags,e=0;e<st.length;e+=1){const o=G(t,st,e);ct[e]?ct[e].p(o,l):(ct[e]=Y(o),ct[e].c(),ct[e].m(n,null))}for(;e<ct.length;e+=1)ct[e].d(1);ct.length=st.length}if(128&l[0]&&E.value!==t[7]&&m(E,t[7]),256&l[0]){let e;for(rt=t[8],e=0;e<rt.length;e+=1){const n=B(t,rt,e);it[e]?it[e].p(n,l):(it[e]=z(n),it[e].c(),it[e].m(y,null))}for(;e<it.length;e+=1)it[e].d(1);it.length=rt.length}if(1&l[0]&&ot!==(ot=t[67].link+"")&&d(O,ot),1&l[0]&&R!==(R=t[67].link)&&h($,"href",R),1&l[0]&&lt!==(lt=t[67].created_at+"")&&d(C,lt),1&l[0]&&at!==(at=t[67].username+"")&&d(K,at),1&l[0]){let n;for(ut=Array(t[67].like_count),n=0;n<ut.length;n+=1){const o=U(t,ut,n);pt[n]?pt[n].p(o,l):(pt[n]=I(),pt[n].c(),pt[n].m(e,L))}for(;n<pt.length;n+=1)pt[n].d(1);pt.length=ut.length}if(32&l[0]&&H.value!==t[5]&&m(H,t[5]),117440577&l[0]){let e;for(_t=t[67].comments_and_replies,e=0;e<_t.length;e+=1){const n=M(t,_t,e);ft[e]?ft[e].p(n,l):(ft[e]=J(n),ft[e].c(),ft[e].m(Z,null))}for(;e<ft.length;e+=1)ft[e].d(1);ft.length=_t.length}},d(n){n&&r(e),i(ct,n),t[45](null),i(it,n),i(pt,n),i(ft,n),et=!1,o(nt)}}}function V(e){let n,l,a,g,w,E,x,y,k,v,b,$,O,R,S,j,D,C,P,A,T,K,N,M,q,U,B,G,Y,z,I,F,J,V,W,X,Z,tt,et,nt,ot,lt,at=e[10]&&Q(e),st=e[0],ct=[];for(let t=0;t<st.length;t+=1)ct[t]=H(L(e,st,t));return{c(){n=u("div"),l=p(e[10]),a=_(),at&&at.c(),g=_(),w=u("div"),E=u("input"),x=_(),y=u("input"),k=_(),v=u("input"),b=_(),$=u("input"),O=_(),R=u("div"),S=u("input"),j=_(),D=u("input"),C=_(),P=u("input"),A=_(),T=u("input"),K=_(),N=u("button"),N.textContent="insert_link",M=_(),q=u("div"),U=u("button"),U.textContent="test_db_init_only_set_name_password_test_mode",B=_(),G=u("button"),G.textContent="test_db_init_on_start",Y=_(),z=u("button"),z.textContent="test_db_init_on_end",I=_(),F=u("button"),F.textContent="test_sample_exe",J=_(),V=u("button"),V.textContent="test_sample_exe2",W=_(),X=u("button"),X.textContent="clear condition",Z=_(),tt=u("button"),tt.textContent="user2",et=_(),nt=u("ul");for(let t=0;t<ct.length;t+=1)ct[t].c();h(n,"class","svelte-1bjmpqx"),h(E,"type","text"),h(E,"placeholder","ORDER_BY"),h(y,"type","text"),h(y,"placeholder","ORDER_BY_COLUMN"),h(v,"type","text"),h(v,"placeholder","REQ_TAG"),h($,"type","text"),h($,"placeholder","USER"),h(w,"class","svelte-1bjmpqx"),h(S,"type","text"),h(S,"placeholder","name"),h(D,"type","text"),h(D,"placeholder","password"),h(P,"type","text"),h(P,"placeholder","TEST_MODE"),h(T,"type","text"),h(T,"placeholder","link_url"),h(T,"class","link"),h(N,"class","insert_link"),h(R,"class","svelte-1bjmpqx"),h(q,"class","svelte-1bjmpqx")},m(t,o){c(t,n,o),s(n,l),s(n,a),at&&at.m(n,null),c(t,g,o),c(t,w,o),s(w,E),m(E,e[11]),s(w,x),s(w,y),m(y,e[12]),s(w,k),s(w,v),m(v,e[13]),s(w,b),s(w,$),m($,e[14]),c(t,O,o),c(t,R,o),s(R,S),m(S,e[1]),s(R,j),s(R,D),m(D,e[3]),s(R,C),s(R,P),m(P,e[2]),s(R,A),s(R,T),m(T,e[4]),s(R,K),s(R,N),c(t,M,o),c(t,q,o),s(q,U),s(q,B),s(q,G),s(q,Y),s(q,z),s(q,I),s(q,F),s(q,J),s(q,V),s(q,W),s(q,X),s(q,Z),s(q,tt),c(t,et,o),c(t,nt,o);for(let t=0;t<ct.length;t+=1)ct[t]&&ct[t].m(nt,null);ot||(lt=[f(E,"input",e[30]),f(y,"input",e[31]),f(v,"input",e[32]),f($,"input",e[33]),f(S,"input",e[34]),f(D,"input",e[35]),f(P,"input",e[36]),f(T,"input",e[37]),f(N,"click",e[21]),f(U,"click",e[38]),f(G,"click",e[39]),f(z,"click",e[40]),f(F,"click",e[41]),f(V,"click",e[42]),f(X,"click",e[43]),f(tt,"click",e[44])],ot=!0)},p(t,e){if(1024&e[0]&&d(l,t[10]),t[10]?at?at.p(t,e):(at=Q(t),at.c(),at.m(n,null)):at&&(at.d(1),at=null),2048&e[0]&&E.value!==t[11]&&m(E,t[11]),4096&e[0]&&y.value!==t[12]&&m(y,t[12]),8192&e[0]&&v.value!==t[13]&&m(v,t[13]),16384&e[0]&&$.value!==t[14]&&m($,t[14]),2&e[0]&&S.value!==t[1]&&m(S,t[1]),8&e[0]&&D.value!==t[3]&&m(D,t[3]),4&e[0]&&P.value!==t[2]&&m(P,t[2]),16&e[0]&&T.value!==t[4]&&m(T,t[4]),532677601&e[0]){let n;for(st=t[0],n=0;n<st.length;n+=1){const o=L(t,st,n);ct[n]?ct[n].p(o,e):(ct[n]=H(o),ct[n].c(),ct[n].m(nt,null))}for(;n<ct.length;n+=1)ct[n].d(1);ct.length=st.length}},i:t,o:t,d(t){t&&r(n),at&&at.d(),t&&r(g),t&&r(w),t&&r(O),t&&r(R),t&&r(M),t&&r(q),t&&r(et),t&&r(nt),i(ct,t),ot=!1,o(lt)}}}function W(t,e,n){let o,l=[],a="user1",s="TEST_MODE",c="user_pass1",r="https://yanaka.dev/",i="comment1",u="reply1",p="tag1",_=[],f="",h="",d="",m="DESC",g="links.id",w="",x="";const k=async()=>{n(1,a="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE")},v=async()=>{try{n(1,a="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE"),o=await(await fetch("http://localhost:8000/test_db_init",K({name:a,password:c,test_mode:s}))).json(),"fail"===o.result&&(()=>{throw new Error(o.error)})(),console.log(o.result)}catch(t){n(10,h=t.message)}},b=async()=>{try{n(1,a="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE"),o=await(await fetch("http://localhost:8000/test_db_init",K({name:a,password:c,test_mode:s}))).json(),"fail"===o.result&&(()=>{throw new Error(o.error)})(),console.log(o.result)}catch(t){n(10,h=t.message)}};let $=[],O=[];const S=async({Data:t="SELECT",Exe_fn:e=N,Expect_result:o="SQLの予約語を含む場合はエラー"})=>{n(4,r=t),await e(),"success"===d&&(console.log("OK"),O.push(["OK",t+"はOK"])),h===o?(console.log("OK"),$.push(["OK",o])):console.log("NG")},j=async({Data:t="test!",Param_of_link_id:e=1,Expect_result:n="記号を含む場合はエラー"})=>{await M(e,t),"success"===d&&(console.log("OK"),O.push(["OK",t+"はOK"])),h===n?(console.log("OK"),$.push(["OK",n])):console.log("NG")},D=async()=>{await v(),await S({Data:"SELECT",Exe_fn:N,Expect_result:"SQLの予約語を含む場合はエラー"}),await S({Data:"https::///google.co.jp",Exe_fn:N,Expect_result:"URLの形式が正しくありません"}),await S({Data:"https://hogehoge.com/",Exe_fn:N,Expect_result:"許可されていないURLです"}),await S({Data:"https://www.yahoo.co.jp/",Exe_fn:N,Expect_result:"OK"}),await S({Data:"https://www.google.co.jp/",Exe_fn:N,Expect_result:"OK"}),await S({Data:"https://www.youtube.com/",Exe_fn:N,Expect_result:"OK"}),await S({Data:"https://www.google.co.jp/",Exe_fn:N,Expect_result:"同じlinkが存在します"}),console.log($),console.log(O)},C=async()=>{await j({Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await j({Data:"test!",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await j({Data:"test tag",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await j({Data:"testlong",Param_of_link_id:1,Expect_result:"7文字以上はエラー"}),await j({Data:"SELECT",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await j({Data:"test",Param_of_link_id:1,Expect_result:"OK"}),await j({Data:"test",Param_of_link_id:1,Expect_result:"既に同じタグがついています"}),await j({Data:"test",Param_of_link_id:2,Expect_result:"OK"}),await j({Data:"test",Param_of_link_id:2,Expect_result:"既に同じタグがついています"}),console.log($),console.log(O)},P=R.xprod(["tag1","tag2","tag3"],["user1","user2","user3"]),A=R.xprod(["links.id","like_count"],P);R.xprod(["DESC","ASC"],A).map((t=>R.flatten(t))).map((t=>({ORDER_BY:t[0],ORDER_BY_COLUMN:t[1],REQ_TAG:t[2],USER:t[3]})));const T=async({ORDER_BY_PARAM:t="DESC",ORDER_BY_COLUMN_PARAM:e="links.id",REQ_TAG_PARAM:o,USER_PARAM:a})=>{try{console.log(t,e,o,a),n(11,m=t),n(12,g=e),n(13,w=o),n(14,x=a);const s=()=>{const t=[];m&&t.push(`order_by=${m}`),g&&t.push(`order_by_column=${g}`),w&&t.push(`tag=${w}`),x&&t.push(`user=${x}`);return`http://localhost:8000/read_all?${t.join("&")}`},c=await(await fetch(s())).json();if("fail"===c.result)throw new Error(c.error);const r=await(await fetch(s())).json();if(0===r.length)throw new Error("条件に一致するデータがありませんでした");n(0,l=r.message)}catch(t){console.log(t),n(10,h=t.message)}},K=t=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),N=async()=>{try{o=await(await fetch("http://localhost:8000/insert_link",K({name:a,password:c,link:r}))).json(),console.log(o),400===o.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===o.status&&(d=o.result),"fail"===o.result?(()=>{throw new Error(o.message)})():T({}),console.log(o.result)}catch(t){n(10,h=t.message),console.log(t),console.log(t.message)}};let L=[];const M=async(t,e)=>{try{n(7,p=e||f.value),console.log("TAG is ",p),console.log("LINK_ID is ",t),o=await(await fetch("http://localhost:8000/insert_tag",K({name:a,password:c,link_id:t,tag:p}))).json(),L=o,console.log("RESPONSE is ",o),400===o.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===o.status&&(d=o.result),200===o.status&&await T({}),"fail"===o.result?(()=>{throw new Error(o.message)})():T({}),console.log(o.result)}catch(t){console.log(t),n(10,h=t.message)}},q=async()=>{const t=(await fetch("http://localhost:8000/get_tags_for_autocomplete",K({name:a,password:c}))).json(),e=await t;n(8,_=await e.message)};E((async()=>{try{await T({}),await q()}catch(t){console.log(t)}}));return[l,a,s,c,r,i,u,p,_,f,h,m,g,w,x,k,v,b,D,C,T,N,async t=>o=(await fetch("http://localhost:8000/like_increment_or_decrement",K({name:a,password:c,link_id:t}))).json(),async t=>o=(await fetch("http://localhost:8000/insert_comment",K({name:a,password:c,link_id:t,comment:i}))).json(),async t=>o=(await fetch("http://localhost:8000/delete_comment",K({name:a,password:c,comment_id:t}))).json(),async t=>o=(await fetch("http://localhost:8000/insert_comment_reply",K({name:a,password:c,comment_id:t,comment_reply:u}))).json(),async t=>o=(await fetch("http://localhost:8000/delete_comment_reply",K({name:a,password:c,comment_reply_id:t}))).json(),M,q,()=>n(10,h=""),function(){m=this.value,n(11,m)},function(){g=this.value,n(12,g)},function(){w=this.value,n(13,w)},function(){x=this.value,n(14,x)},function(){a=this.value,n(1,a)},function(){c=this.value,n(3,c)},function(){s=this.value,n(2,s)},function(){r=this.value,n(4,r)},()=>k(),()=>v(),()=>b(),()=>D(),()=>C(),()=>T({}),()=>T({USER_PARAM:"user2"}),function(t){y[t?"unshift":"push"]((()=>{f=t,n(9,f)}))},function(){p=this.value,n(7,p)},function(){i=this.value,n(5,i)},function(){u=this.value,n(6,u)}]}return new class extends N{constructor(t){super(),K(this,t,W,V,a,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
