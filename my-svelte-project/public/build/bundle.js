var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function r(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function m(){return _(" ")}function p(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){t.value=null==e?"":e}let g;function w(t){g=t}function y(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const x=[],E=[];let k=[];const b=[],v=Promise.resolve();let D=!1;function $(t){k.push(t)}const P=new Set;let j=0;function C(){if(0!==j)return;const t=g;do{try{for(;j<x.length;){const t=x[j];j++,w(t),O(t.$$)}}catch(t){throw x.length=0,j=0,t}for(w(null),x.length=0,j=0;E.length;)E.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];P.has(e)||(P.add(e),e())}k.length=0}while(x.length);for(;b.length;)b.pop()();D=!1,P.clear(),w(t)}function O(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($)}}const R=new Set;function S(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((a=>-1===t.indexOf(a)?e.push(a):n.push(a))),n.forEach((t=>t())),k=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(x.push(t),D||(D=!0,v.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(o,c,s,r,u,_,m,p=[-1]){const f=g;w(o);const d=o.$$={fragment:null,ctx:[],props:_,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:c.target||f.$$.root};m&&m(d.root);let h=!1;if(d.ctx=s?s(o,c.props||{},((t,e,...n)=>{const a=n.length?n[0]:e;return d.ctx&&u(d.ctx[t],d.ctx[t]=a)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](a),h&&T(o,t)),e})):[],d.update(),h=!0,a(d.before_update),d.fragment=!!r&&r(d.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);d.fragment&&d.fragment.l(t),t.forEach(i)}else d.fragment&&d.fragment.c();c.intro&&((y=o.$$.fragment)&&y.i&&(R.delete(y),y.i(x))),function(t,n,o,c){const{fragment:s,after_update:i}=t.$$;s&&s.m(n,o),c||$((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):a(n),t.$$.on_mount=[]})),i.forEach($)}(o,c.target,c.anchor,c.customElement),C()}var y,x;w(f)}class M{$destroy(){S(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const t=a.indexOf(n);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function L(t,e,n){const a=t.slice();return a[76]=e[n],a[78]=n,a}function q(t,e,n){const a=t.slice();return a[79]=e[n],a[81]=n,a}function K(t,e,n){const a=t.slice();return a[82]=e[n],a[81]=n,a}function N(t,e,n){const a=t.slice();return a[76]=e[n],a[78]=n,a}function B(t,e,n){const a=t.slice();return a[76]=e[n],a[78]=n,a}function Q(t,e,n){const a=t.slice();return a[86]=e[n],a[81]=n,a}function U(t,e,n){const a=t.slice();return a[88]=e[n],a}function Y(t,e,n){const a=t.slice();return a[91]=e[n],a}function G(e){let n,a,l;return{c(){n=u("button"),n.textContent="remove_error_message"},m(t,o){s(t,n,o),a||(l=p(n,"click",e[35]),a=!0)},p:t,d(t){t&&i(n),a=!1,l()}}}function z(t){let e,n,a,l,o=t[91]+"",r=t[88][t[91]]+"";return{c(){e=u("div"),n=_(o),a=_(": "),l=_(r),f(e,"class","svelte-1bjmpqx")},m(t,o){s(t,e,o),c(e,n),c(e,a),c(e,l)},p(t,e){32768&e[0]&&o!==(o=t[91]+"")&&d(n,o),32768&e[0]&&r!==(r=t[88][t[91]]+"")&&d(l,r)},d(t){t&&i(e)}}}function F(t){let e,n,a=Object.keys(t[88]),l=[];for(let e=0;e<a.length;e+=1)l[e]=z(Y(t,a,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();n=m(),f(e,"class","svelte-1bjmpqx")},m(t,a){s(t,e,a);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null);c(e,n)},p(t,o){if(32768&o[0]){let c;for(a=Object.keys(t[88]),c=0;c<a.length;c+=1){const s=Y(t,a,c);l[c]?l[c].p(s,o):(l[c]=z(s),l[c].c(),l[c].m(e,n))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}},d(t){t&&i(e),r(l,t)}}}function V(t){let e,n,a,l,o=t[86].tag+"";return{c(){e=u("button"),n=_(o)},m(o,i){s(o,e,i),c(e,n),a||(l=p(e,"click",t[57]),a=!0)},p(t,e){1&e[0]&&o!==(o=t[86].tag+"")&&d(n,o)},d(t){t&&i(e),a=!1,l()}}}function I(t){let e,n;return{c(){e=u("option"),e.__value=n=t[76].tag,e.value=e.__value},m(t,n){s(t,e,n)},p(t,a){256&a[0]&&n!==(n=t[76].tag)&&(e.__value=n,e.value=e.__value)},d(t){t&&i(e)}}}function J(e){let n;return{c(){n=u("span"),n.textContent="😇"},m(t,e){s(t,n,e)},p:t,d(t){t&&i(n)}}}function H(t){let e,n,a,o,r,f,h,g,w,y,x,E,k=t[82].reply+"",b=t[82].username+"";return{c(){e=u("li"),n=_("reply: "),a=_(k),o=m(),r=u("li"),f=_("username: "),h=_(b),g=m(),w=u("button"),w.textContent="fetch_delete_comment_reply",y=m()},m(i,u){s(i,e,u),c(e,n),c(e,a),s(i,o,u),s(i,r,u),c(r,f),c(r,h),s(i,g,u),s(i,w,u),s(i,y,u),x||(E=p(w,"click",(function(){l(t[31](t[82].id))&&t[31](t[82].id).apply(this,arguments)})),x=!0)},p(e,n){t=e,1&n[0]&&k!==(k=t[82].reply+"")&&d(a,k),1&n[0]&&b!==(b=t[82].username+"")&&d(h,b)},d(t){t&&i(e),t&&i(o),t&&i(r),t&&i(g),t&&i(w),t&&i(y),x=!1,E()}}}function W(t){let e,n,o,g,w,y,x,E,k,b,v,D,$,P,j,C,O,R,S,T,A,M,L,q,N,B,Q,U,Y=t[79][t[81]].comment+"",G=t[79][t[81]].created_at+"",z=t[79][t[81]].updated_at+"",F=t[79][t[81]].username+"",V=t[79].comment_replies,I=[];for(let e=0;e<V.length;e+=1)I[e]=H(K(t,V,e));return{c(){e=u("li"),n=_("comment: "),o=_(Y),g=m(),w=u("li"),y=_("created_at: "),x=_(G),E=m(),k=u("button"),k.textContent="fetch_delete_comment",b=m(),v=u("li"),D=_("updated_at: "),$=_(z),P=m(),j=u("li"),C=_("username: "),O=_(F),R=m(),S=u("input"),T=m(),A=u("button"),A.textContent="fetch_insert_comment_reply",M=m(),L=u("li"),q=_("comment_replies:\n\t\t\t\t"),N=u("ul");for(let t=0;t<I.length;t+=1)I[t].c();B=m(),f(S,"type","text"),f(S,"placeholder","comment_reply"),f(L,"class","reply_zone svelte-1bjmpqx")},m(a,i){s(a,e,i),c(e,n),c(e,o),s(a,g,i),s(a,w,i),c(w,y),c(w,x),s(a,E,i),s(a,k,i),s(a,b,i),s(a,v,i),c(v,D),c(v,$),s(a,P,i),s(a,j,i),c(j,C),c(j,O),s(a,R,i),s(a,S,i),h(S,t[6]),s(a,T,i),s(a,A,i),s(a,M,i),s(a,L,i),c(L,q),c(L,N);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(N,null);s(a,B,i),Q||(U=[p(k,"click",(function(){l(t[29](t[79][t[81]].id))&&t[29](t[79][t[81]].id).apply(this,arguments)})),p(S,"input",t[61]),p(A,"click",(function(){l(t[30](t[79][t[81]].id))&&t[30](t[79][t[81]].id).apply(this,arguments)}))],Q=!0)},p(e,n){if(t=e,1&n[0]&&Y!==(Y=t[79][t[81]].comment+"")&&d(o,Y),1&n[0]&&G!==(G=t[79][t[81]].created_at+"")&&d(x,G),1&n[0]&&z!==(z=t[79][t[81]].updated_at+"")&&d($,z),1&n[0]&&F!==(F=t[79][t[81]].username+"")&&d(O,F),64&n[0]&&S.value!==t[6]&&h(S,t[6]),1&n[0]|1&n[1]){let e;for(V=t[79].comment_replies,e=0;e<V.length;e+=1){const a=K(t,V,e);I[e]?I[e].p(a,n):(I[e]=H(a),I[e].c(),I[e].m(N,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=V.length}},d(t){t&&i(e),t&&i(g),t&&i(w),t&&i(E),t&&i(k),t&&i(b),t&&i(v),t&&i(P),t&&i(j),t&&i(R),t&&i(S),t&&i(T),t&&i(A),t&&i(M),t&&i(L),r(I,t),t&&i(B),Q=!1,a(U)}}}function X(t){let e,n,o,g,w,y,x,E,k,b,v,D,$,P,j,C,O,R,S,T,A,M,L,K,U,Y,G,z,F,H,X,Z,tt,et,nt,at,lt,ot=t[76].link+"",ct=t[76].created_at+"",st=t[76].username+"",it=t[76].tags,rt=[];for(let e=0;e<it.length;e+=1)rt[e]=V(Q(t,it,e));let ut=t[8],_t=[];for(let e=0;e<ut.length;e+=1)_t[e]=I(B(t,ut,e));let mt=t[76].likes,pt=[];for(let e=0;e<mt.length;e+=1)pt[e]=J(N(t,mt,e));let ft=t[76].comments_and_replies,dt=[];for(let e=0;e<ft.length;e+=1)dt[e]=W(q(t,ft,e));return{c(){e=u("li"),n=u("div"),o=_("tag: \n\t\t\t");for(let t=0;t<rt.length;t+=1)rt[t].c();g=m(),w=u("div"),y=u("input"),x=m(),E=u("datalist");for(let t=0;t<_t.length;t+=1)_t[t].c();k=m(),b=u("button"),b.textContent="fetch_insert_tag",v=m(),D=u("button"),D.textContent="fetch_delete_link",$=m(),P=u("a"),j=_(ot),O=m(),R=u("div"),S=_("created_at: "),T=_(ct),A=m(),M=u("div"),L=_("username: "),K=_(st),U=m();for(let t=0;t<pt.length;t+=1)pt[t].c();Y=m(),G=u("button"),G.textContent="like_increment_or_decrement",z=m(),F=u("div"),H=u("input"),X=m(),Z=u("button"),Z.textContent="fetch_insert_comment",tt=m(),et=u("ul");for(let t=0;t<dt.length;t+=1)dt[t].c();nt=m(),f(n,"class","svelte-1bjmpqx"),f(y,"list","autocomplete_list"),f(y,"type","text"),f(y,"name",""),f(y,"id","hoge"),f(y,"placeholder","tag"),f(E,"id","autocomplete_list"),f(w,"class","svelte-1bjmpqx"),f(P,"href",C=t[76].link),f(P,"target","_blank"),f(R,"class","svelte-1bjmpqx"),f(M,"class","svelte-1bjmpqx"),f(H,"type","text"),f(H,"name",""),f(H,"id",""),f(H,"placeholder","comment"),f(F,"class","svelte-1bjmpqx"),f(et,"class","comment_zone svelte-1bjmpqx")},m(a,i){s(a,e,i),c(e,n),c(n,o);for(let t=0;t<rt.length;t+=1)rt[t]&&rt[t].m(n,null);c(e,g),c(e,w),c(w,y),t[58](y),h(y,t[7]),c(w,x),c(w,E);for(let t=0;t<_t.length;t+=1)_t[t]&&_t[t].m(E,null);c(w,k),c(w,b),c(e,v),c(e,D),c(e,$),c(e,P),c(P,j),c(e,O),c(e,R),c(R,S),c(R,T),c(e,A),c(e,M),c(M,L),c(M,K),c(e,U);for(let t=0;t<pt.length;t+=1)pt[t]&&pt[t].m(e,null);c(e,Y),c(e,G),c(e,z),c(e,F),c(F,H),h(H,t[5]),c(F,X),c(F,Z),c(e,tt),c(e,et);for(let t=0;t<dt.length;t+=1)dt[t]&&dt[t].m(et,null);c(e,nt),at||(lt=[p(y,"input",t[59]),p(y,"input",t[34]),p(b,"click",(function(){l(t[32](t[76].id))&&t[32](t[76].id).apply(this,arguments)})),p(D,"click",(function(){l(t[26](t[76].id))&&t[26](t[76].id).apply(this,arguments)})),p(G,"click",(function(){l(t[27](t[76].id))&&t[27](t[76].id).apply(this,arguments)})),p(H,"input",t[60]),p(Z,"click",(function(){l(t[28](t[76].id))&&t[28](t[76].id).apply(this,arguments)}))],at=!0)},p(a,l){if(t=a,1&l[0]|128&l[1]){let e;for(it=t[76].tags,e=0;e<it.length;e+=1){const a=Q(t,it,e);rt[e]?rt[e].p(a,l):(rt[e]=V(a),rt[e].c(),rt[e].m(n,null))}for(;e<rt.length;e+=1)rt[e].d(1);rt.length=it.length}if(128&l[0]&&y.value!==t[7]&&h(y,t[7]),256&l[0]){let e;for(ut=t[8],e=0;e<ut.length;e+=1){const n=B(t,ut,e);_t[e]?_t[e].p(n,l):(_t[e]=I(n),_t[e].c(),_t[e].m(E,null))}for(;e<_t.length;e+=1)_t[e].d(1);_t.length=ut.length}if(1&l[0]&&ot!==(ot=t[76].link+"")&&d(j,ot),1&l[0]&&C!==(C=t[76].link)&&f(P,"href",C),1&l[0]&&ct!==(ct=t[76].created_at+"")&&d(T,ct),1&l[0]&&st!==(st=t[76].username+"")&&d(K,st),1&l[0]){let n;for(mt=t[76].likes,n=0;n<mt.length;n+=1){const a=N(t,mt,n);pt[n]?pt[n].p(a,l):(pt[n]=J(),pt[n].c(),pt[n].m(e,Y))}for(;n<pt.length;n+=1)pt[n].d(1);pt.length=mt.length}if(32&l[0]&&H.value!==t[5]&&h(H,t[5]),1610612801&l[0]|1&l[1]){let e;for(ft=t[76].comments_and_replies,e=0;e<ft.length;e+=1){const n=q(t,ft,e);dt[e]?dt[e].p(n,l):(dt[e]=W(n),dt[e].c(),dt[e].m(et,null))}for(;e<dt.length;e+=1)dt[e].d(1);dt.length=ft.length}},d(n){n&&i(e),r(rt,n),t[58](null),r(_t,n),r(pt,n),r(dt,n),at=!1,a(lt)}}}function Z(e){let n,l,o,g,w,y,x,E,k,b,v,D,$,P,j,C,O,R,S,T,A,M,q,K,N,B,Q,Y,z,V,I,J,H,W,Z,tt,et,nt,at,lt,ot,ct,st,it,rt,ut,_t,mt,pt,ft,dt,ht,gt,wt,yt,xt=e[14]&&G(e),Et=e[15],kt=[];for(let t=0;t<Et.length;t+=1)kt[t]=F(U(e,Et,t));let bt=e[0],vt=[];for(let t=0;t<bt.length;t+=1)vt[t]=X(L(e,bt,t));return{c(){n=u("div"),l=_(e[14]),o=m(),xt&&xt.c(),g=m(),w=u("div");for(let t=0;t<kt.length;t+=1)kt[t].c();y=m(),x=u("div"),E=u("input"),k=m(),b=u("input"),v=m(),D=u("div"),$=u("input"),P=m(),j=u("input"),C=m(),O=u("input"),R=m(),S=u("div"),T=u("button"),T.textContent="fetch_get_collect_value_for_test",A=m(),M=u("button"),M.textContent="test_db_init_only_set_name_password_test_mode",q=m(),K=u("button"),K.textContent="test_db_init_on_start",N=m(),B=u("button"),B.textContent="test_db_init_on_end",Q=m(),Y=u("button"),Y.textContent="test_sample_exe",z=m(),V=u("button"),V.textContent="test_sample_exe2",I=m(),J=u("button"),J.textContent="test_sample_exe3",H=m(),W=u("button"),W.textContent="test_sample_exe4",Z=m(),tt=u("button"),tt.textContent="test_sample_exe5",et=m(),nt=u("div"),at=u("input"),lt=m(),ot=u("button"),ot.textContent="insert_link",ct=m(),st=u("button"),st.textContent="clear condition",it=m(),rt=u("button"),ut=_("ORDER_BY: "),_t=_(e[10]),mt=m(),pt=u("button"),ft=_("ORDER_BY_COLUMN: "),dt=_(e[11]),ht=m(),gt=u("ul");for(let t=0;t<vt.length;t+=1)vt[t].c();f(n,"class","svelte-1bjmpqx"),f(w,"class","svelte-1bjmpqx"),f(E,"type","text"),f(E,"placeholder","REQ_TAG"),f(b,"type","text"),f(b,"placeholder","USER"),f(x,"class","svelte-1bjmpqx"),f($,"type","text"),f($,"placeholder","name"),f(j,"type","text"),f(j,"placeholder","password"),f(O,"type","text"),f(O,"placeholder","TEST_MODE"),f(D,"class","svelte-1bjmpqx"),f(S,"class","svelte-1bjmpqx"),f(at,"type","text"),f(at,"placeholder","link_url"),f(at,"class","link"),f(ot,"class","insert_link"),f(nt,"class","svelte-1bjmpqx")},m(t,a){s(t,n,a),c(n,l),c(n,o),xt&&xt.m(n,null),s(t,g,a),s(t,w,a);for(let t=0;t<kt.length;t+=1)kt[t]&&kt[t].m(w,null);s(t,y,a),s(t,x,a),c(x,E),h(E,e[12]),c(x,k),c(x,b),h(b,e[13]),s(t,v,a),s(t,D,a),c(D,$),h($,e[1]),c(D,P),c(D,j),h(j,e[3]),c(D,C),c(D,O),h(O,e[2]),s(t,R,a),s(t,S,a),c(S,T),c(S,A),c(S,M),c(S,q),c(S,K),c(S,N),c(S,B),c(S,Q),c(S,Y),c(S,z),c(S,V),c(S,I),c(S,J),c(S,H),c(S,W),c(S,Z),c(S,tt),s(t,et,a),s(t,nt,a),c(nt,at),h(at,e[4]),c(nt,lt),c(nt,ot),c(nt,ct),c(nt,st),c(nt,it),c(nt,rt),c(rt,ut),c(rt,_t),c(nt,mt),c(nt,pt),c(pt,ft),c(pt,dt),s(t,ht,a),s(t,gt,a);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(gt,null);wt||(yt=[p(E,"input",e[39]),p(b,"input",e[40]),p($,"input",e[41]),p(j,"input",e[42]),p(O,"input",e[43]),p(T,"click",e[44]),p(M,"click",e[45]),p(K,"click",e[46]),p(B,"click",e[47]),p(Y,"click",e[48]),p(V,"click",e[49]),p(J,"click",e[50]),p(W,"click",e[51]),p(tt,"click",e[52]),p(at,"input",e[53]),p(ot,"click",e[25]),p(st,"click",e[54]),p(rt,"click",e[55]),p(pt,"click",e[56])],wt=!0)},p(t,e){if(16384&e[0]&&d(l,t[14]),t[14]?xt?xt.p(t,e):(xt=G(t),xt.c(),xt.m(n,null)):xt&&(xt.d(1),xt=null),32768&e[0]){let n;for(Et=t[15],n=0;n<Et.length;n+=1){const a=U(t,Et,n);kt[n]?kt[n].p(a,e):(kt[n]=F(a),kt[n].c(),kt[n].m(w,null))}for(;n<kt.length;n+=1)kt[n].d(1);kt.length=Et.length}if(4096&e[0]&&E.value!==t[12]&&h(E,t[12]),8192&e[0]&&b.value!==t[13]&&h(b,t[13]),2&e[0]&&$.value!==t[1]&&h($,t[1]),8&e[0]&&j.value!==t[3]&&h(j,t[3]),4&e[0]&&O.value!==t[2]&&h(O,t[2]),16&e[0]&&at.value!==t[4]&&h(at,t[4]),1024&e[0]&&d(_t,t[10]),2048&e[0]&&d(dt,t[11]),2080375777&e[0]|139&e[1]){let n;for(bt=t[0],n=0;n<bt.length;n+=1){const a=L(t,bt,n);vt[n]?vt[n].p(a,e):(vt[n]=X(a),vt[n].c(),vt[n].m(gt,null))}for(;n<vt.length;n+=1)vt[n].d(1);vt.length=bt.length}},i:t,o:t,d(t){t&&i(n),xt&&xt.d(),t&&i(g),t&&i(w),r(kt,t),t&&i(y),t&&i(x),t&&i(v),t&&i(D),t&&i(R),t&&i(S),t&&i(et),t&&i(nt),t&&i(ht),t&&i(gt),r(vt,t),wt=!1,a(yt)}}}function tt(t,e,n){let a,l=[],o="user1",c="TEST_MODE",s="user_pass1",i="https://yanaka.dev/",r="comment1",u="reply1",_="tag1",m=[],p="",f="ASC",d="id",h="",g="",w="",x="",k=[],b=[],v=[{value:0},{value2:1}];const D=async()=>{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE")},$=async()=>{try{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",B({name:o,password:s,test_mode:c}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})()}catch(t){n(14,w=t.message)}},P=async()=>{try{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",B({name:o,password:s,test_mode:c}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})()}catch(t){n(14,w=t.message)}},j=(t,e)=>{"success"===x&&(console.log("OK"),b.push(["OK",(t?t+"は":"")+"OK"])),w===e?(console.log("OK"),k.push(["OK",e])):console.log("NG")},C=async({Data:t="SELECT",Expect_result:e="SQLの予約語を含む場合はエラー"})=>{n(4,i=t),await U(),j(t,e)},O=async({Data:t="test!",Param_of_link_id:e=1,Expect_result:n="記号を含む場合はエラー"})=>{await F(e,t),j(t,n)},R=async({Data:t="a".repeat(51),Param_of_link_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(5,r=t),await G(e),j(t,a)},S=async({Data:t="a".repeat(51),Param_of_comment_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(6,u=t),await z(e),j(t,a)},T=async({Data:t="",Param_of_link_id:e=1,Expect_result:n="success"})=>{await Y(e),j(t,n)},A=async()=>{await $(),await C({Data:"SELECT",Expect_result:"SQLの予約語を含む場合はエラー"}),await C({Data:"https::///google.co.jp",Expect_result:"URLの形式が正しくありません"}),await C({Data:"https://hogehoge.com/",Expect_result:"許可されていないURLです"}),await C({Data:"https://www.yahoo.co.jp/",Expect_result:"OK"}),await C({Data:"https://www.google.co.jp/",Expect_result:"OK"}),await C({Data:"https://www.youtube.com/",Expect_result:"OK"}),await C({Data:"https://www.google.co.jp/",Expect_result:"同じlinkが存在します"}),console.log(k),console.log(b)},M=async()=>{await O({Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await O({Data:"test!",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await O({Data:"test tag",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await O({Data:"testlong",Param_of_link_id:1,Expect_result:"7文字以上はエラー"}),await O({Data:"SELECT",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await O({Data:"test",Param_of_link_id:1,Expect_result:"OK"}),await O({Data:"test",Param_of_link_id:1,Expect_result:"既に同じタグがついています"}),await O({Data:"test",Param_of_link_id:2,Expect_result:"OK"}),await O({Data:"test",Param_of_link_id:2,Expect_result:"既に同じタグがついています"}),await O({Data:"TEST",Param_of_link_id:1,Expect_result:"OK"}),console.log(k),console.log(b)},L=async()=>{await R({Data:"a".repeat(1500),Param_of_link_id:1,Expect_result:"commentの文字数がdata_limit(test userは50)を超える場合はエラー"}),await R({Data:"",Param_of_link_id:1,Expect_result:"0文字の場合はエラー"}),await R({Data:"This is a comment with spaces",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await R({Data:"This!Symbol",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await R({Data:"a".repeat(301),Param_of_link_id:1,Expect_result:"300文字以上はエラー"}),await R({Data:"SELECT * FROM comments",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await R({Data:"ThisIsaValidComment",Param_of_link_id:1,Expect_result:"OK"})},q=async()=>{await S({Data:"a".repeat(1500),Param_of_comment_id:1,Expect_result:"comment_replyの文字数がdata_limit(test userは50)を超える場合はエラー"}),await S({Data:"",Param_of_comment_id:1,Expect_result:"0文字の場合はエラー"}),await S({Data:"This!Symbol",Param_of_comment_id:1,Expect_result:"記号を含む場合はエラー"}),await S({Data:"spa ces",Param_of_comment_id:1,Expect_result:"空白を含む場合はエラー"}),await S({Data:"a".repeat(11),Param_of_comment_id:1,Expect_result:"10文字以上はエラー"}),await S({Data:"SELECT * FROM comments",Param_of_comment_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await S({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"OK"}),await S({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"同じユーザーから同じcommentへのreplyが既に存在する場合はエラー"})},K=async()=>{await T({Param_of_link_id:1e9,Expect_result:"link_idがありません"}),await T({Param_of_link_id:1,Expect_result:"success"}),await T({Param_of_link_id:1,Expect_result:"success"}),await T({Param_of_link_id:1,Expect_result:"success"})},N=async({ORDER_BY_PARAM:t="DESC",ORDER_BY_COLUMN_PARAM:e="id",REQ_TAG_PARAM:a,USER_PARAM:o})=>{console.log(e);try{n(10,f=t),n(11,d=e),n(12,h=a),n(13,g=o);const c=()=>{const t=[];f&&t.push(`order_by=${f}`),d&&t.push(`order_by_column=${d}`),h&&t.push(`tag=${h}`),g&&t.push(`user=${g}`);return`http://localhost:8000/read_all?${t.join("&")}`},s=await(await fetch(c())).json();if("fail"===s.result)throw new Error(s.error);const i=await(await fetch(c())).json();if(0===i.length)throw new Error("条件に一致するデータがありませんでした");n(0,l=i.message)}catch(t){console.log(t),n(14,w=t.message)}},B=t=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),Q=async t=>{try{200===t.status&&(x=t.result),"fail"===t.result||400===t.status?(()=>{throw new Error(t.message)})():await N({})}catch(t){(()=>{throw new Error(t.message)})()}},U=async()=>{try{a=await(await fetch("http://localhost:8000/insert_link",B({name:o,password:s,link:i}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},Y=async t=>{try{a=await(await fetch("http://localhost:8000/like_increment_or_decrement",B({name:o,password:s,link_id:t}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},G=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment",B({name:o,password:s,link_id:t,comment:r}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},z=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment_reply",B({name:o,password:s,comment_id:t,comment_reply:u}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},F=async(t,e)=>{try{n(7,_=e||p.value),a=await(await fetch("http://localhost:8000/insert_tag",B({name:o,password:s,link_id:t,tag:_}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},V=async()=>{try{const t=await(await fetch("http://localhost:8000/get_collect_value_for_test",B({name:o,password:s}))).json();n(15,v=t.message)}catch(t){console.log(t)}},I=async()=>{const t=await(await fetch("http://localhost:8000/get_tags_for_autocomplete",B({name:o,password:s}))).json(),e=await t;n(8,m=await e.message)},J=async()=>{switch(!0){case"id"===d:n(11,d="created_at");break;case"created_at"===d:n(11,d="updated_at");break;default:n(11,d="id")}await N({ORDER_BY_PARAM:f,ORDER_BY_COLUMN_PARAM:d,REQ_TAG_PARAM:"TEST"})},H=async()=>{switch(!0){case"ASC"===f:n(10,f="DESC");break;case"DESC"===f:n(10,f="ASC");break;default:n(11,d="DESC")}await N({ORDER_BY_PARAM:f,ORDER_BY_COLUMN_PARAM:d})},W=async()=>{await N({REQ_TAG_PARAM:"TEST"})};y((async()=>{try{await N({}),await I()}catch(t){console.log(t)}}));return[l,o,c,s,i,r,u,_,m,p,f,d,h,g,w,v,D,$,P,A,M,L,q,K,N,U,async t=>{try{a=await(await fetch("http://localhost:8000/delete_link",B({name:o,password:s,id:t}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},Y,G,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment",B({name:o,password:s,comment_id:t}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},z,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment_reply",B({name:o,password:s,comment_reply_id:t}))).json(),await Q(a)}catch(t){n(14,w=t.message)}},F,V,I,()=>n(14,w=""),J,H,W,function(){h=this.value,n(12,h)},function(){g=this.value,n(13,g)},function(){o=this.value,n(1,o)},function(){s=this.value,n(3,s)},function(){c=this.value,n(2,c)},()=>V(),()=>D(),()=>$(),()=>P(),()=>A(),()=>M(),()=>L(),()=>q(),()=>K(),function(){i=this.value,n(4,i)},()=>N({}),()=>H(),()=>J(),()=>W(),function(t){E[t?"unshift":"push"]((()=>{p=t,n(9,p)}))},function(){_=this.value,n(7,_)},function(){r=this.value,n(5,r)},function(){u=this.value,n(6,u)}]}return new class extends M{constructor(t){super(),A(this,t,tt,Z,o,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
