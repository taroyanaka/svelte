var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function r(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function m(){return _(" ")}function p(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){e=""+e,t.data!==e&&(t.data=e)}function h(t,e){t.value=null==e?"":e}let g;function w(t){g=t}function x(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const y=[],E=[];let k=[];const b=[],v=Promise.resolve();let $=!1;function D(t){k.push(t)}const j=new Set;let P=0;function C(){if(0!==P)return;const t=g;do{try{for(;P<y.length;){const t=y[P];P++,w(t),O(t.$$)}}catch(t){throw y.length=0,P=0,t}for(w(null),y.length=0,P=0;E.length;)E.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];j.has(e)||(j.add(e),e())}k.length=0}while(y.length);for(;b.length;)b.pop()();$=!1,j.clear(),w(t)}function O(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(D)}}const S=new Set;function T(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((a=>-1===t.indexOf(a)?e.push(a):n.push(a))),n.forEach((t=>t())),k=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(t,e){-1===t.$$.dirty[0]&&(y.push(t),$||($=!0,v.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(o,c,s,r,u,_,m,p=[-1]){const f=g;w(o);const d=o.$$={fragment:null,ctx:[],props:_,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:c.target||f.$$.root};m&&m(d.root);let h=!1;if(d.ctx=s?s(o,c.props||{},((t,e,...n)=>{const a=n.length?n[0]:e;return d.ctx&&u(d.ctx[t],d.ctx[t]=a)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](a),h&&R(o,t)),e})):[],d.update(),h=!0,a(d.before_update),d.fragment=!!r&&r(d.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);d.fragment&&d.fragment.l(t),t.forEach(i)}else d.fragment&&d.fragment.c();c.intro&&((x=o.$$.fragment)&&x.i&&(S.delete(x),x.i(y))),function(t,n,o,c){const{fragment:s,after_update:i}=t.$$;s&&s.m(n,o),c||D((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):a(n),t.$$.on_mount=[]})),i.forEach(D)}(o,c.target,c.anchor,c.customElement),C()}var x,y;w(f)}class L{$destroy(){T(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const t=a.indexOf(n);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function A(t,e,n){const a=t.slice();return a[72]=e[n],a[74]=n,a}function M(t,e,n){const a=t.slice();return a[75]=e[n],a[77]=n,a}function K(t,e,n){const a=t.slice();return a[78]=e[n],a[77]=n,a}function N(t,e,n){const a=t.slice();return a[72]=e[n],a[74]=n,a}function Q(t,e,n){const a=t.slice();return a[72]=e[n],a[74]=n,a}function U(t,e,n){const a=t.slice();return a[82]=e[n],a[77]=n,a}function B(t,e,n){const a=t.slice();return a[84]=e[n],a}function Y(t,e,n){const a=t.slice();return a[87]=e[n],a}function z(e){let n,a,l;return{c(){n=u("button"),n.textContent="remove_error_message"},m(t,o){s(t,n,o),a||(l=p(n,"click",e[35]),a=!0)},p:t,d(t){t&&i(n),a=!1,l()}}}function F(t){let e,n,a,l,o=t[87]+"",r=t[84][t[87]]+"";return{c(){e=u("div"),n=_(o),a=_(": "),l=_(r),f(e,"class","svelte-1bjmpqx")},m(t,o){s(t,e,o),c(e,n),c(e,a),c(e,l)},p(t,e){32768&e[0]&&o!==(o=t[87]+"")&&d(n,o),32768&e[0]&&r!==(r=t[84][t[87]]+"")&&d(l,r)},d(t){t&&i(e)}}}function G(t){let e,n,a=Object.keys(t[84]),l=[];for(let e=0;e<a.length;e+=1)l[e]=F(Y(t,a,e));return{c(){e=u("div");for(let t=0;t<l.length;t+=1)l[t].c();n=m(),f(e,"class","svelte-1bjmpqx")},m(t,a){s(t,e,a);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null);c(e,n)},p(t,o){if(32768&o[0]){let c;for(a=Object.keys(t[84]),c=0;c<a.length;c+=1){const s=Y(t,a,c);l[c]?l[c].p(s,o):(l[c]=F(s),l[c].c(),l[c].m(e,n))}for(;c<l.length;c+=1)l[c].d(1);l.length=a.length}},d(t){t&&i(e),r(l,t)}}}function V(t){let e,n,a,l=t[82].tag+"";return{c(){e=u("span"),n=_(l),a=_(", ")},m(t,l){s(t,e,l),c(e,n),c(e,a)},p(t,e){1&e[0]&&l!==(l=t[82].tag+"")&&d(n,l)},d(t){t&&i(e)}}}function I(t){let e,n;return{c(){e=u("option"),e.__value=n=t[72].tag,e.value=e.__value},m(t,n){s(t,e,n)},p(t,a){256&a[0]&&n!==(n=t[72].tag)&&(e.__value=n,e.value=e.__value)},d(t){t&&i(e)}}}function J(e){let n;return{c(){n=u("span"),n.textContent="😇"},m(t,e){s(t,n,e)},p:t,d(t){t&&i(n)}}}function H(t){let e,n,a,o,r,f,h,g,w,x,y,E,k=t[78].reply+"",b=t[78].username+"";return{c(){e=u("li"),n=_("reply: "),a=_(k),o=m(),r=u("li"),f=_("username: "),h=_(b),g=m(),w=u("button"),w.textContent="fetch_delete_comment_reply",x=m()},m(i,u){s(i,e,u),c(e,n),c(e,a),s(i,o,u),s(i,r,u),c(r,f),c(r,h),s(i,g,u),s(i,w,u),s(i,x,u),y||(E=p(w,"click",(function(){l(t[31](t[78].id))&&t[31](t[78].id).apply(this,arguments)})),y=!0)},p(e,n){t=e,1&n[0]&&k!==(k=t[78].reply+"")&&d(a,k),1&n[0]&&b!==(b=t[78].username+"")&&d(h,b)},d(t){t&&i(e),t&&i(o),t&&i(r),t&&i(g),t&&i(w),t&&i(x),y=!1,E()}}}function W(t){let e,n,o,g,w,x,y,E,k,b,v,$,D,j,P,C,O,S,T,R,q,L,A,M,N,Q,U,B,Y=t[75][t[77]].comment+"",z=t[75][t[77]].created_at+"",F=t[75][t[77]].updated_at+"",G=t[75][t[77]].username+"",V=t[75].comment_replies,I=[];for(let e=0;e<V.length;e+=1)I[e]=H(K(t,V,e));return{c(){e=u("li"),n=_("comment: "),o=_(Y),g=m(),w=u("li"),x=_("created_at: "),y=_(z),E=m(),k=u("button"),k.textContent="fetch_delete_comment",b=m(),v=u("li"),$=_("updated_at: "),D=_(F),j=m(),P=u("li"),C=_("username: "),O=_(G),S=m(),T=u("input"),R=m(),q=u("button"),q.textContent="fetch_insert_comment_reply",L=m(),A=u("li"),M=_("comment_replies:\n\t\t\t\t"),N=u("ul");for(let t=0;t<I.length;t+=1)I[t].c();Q=m(),f(T,"type","text"),f(T,"placeholder","comment_reply"),f(A,"class","reply_zone svelte-1bjmpqx")},m(a,i){s(a,e,i),c(e,n),c(e,o),s(a,g,i),s(a,w,i),c(w,x),c(w,y),s(a,E,i),s(a,k,i),s(a,b,i),s(a,v,i),c(v,$),c(v,D),s(a,j,i),s(a,P,i),c(P,C),c(P,O),s(a,S,i),s(a,T,i),h(T,t[6]),s(a,R,i),s(a,q,i),s(a,L,i),s(a,A,i),c(A,M),c(A,N);for(let t=0;t<I.length;t+=1)I[t]&&I[t].m(N,null);s(a,Q,i),U||(B=[p(k,"click",(function(){l(t[29](t[75][t[77]].id))&&t[29](t[75][t[77]].id).apply(this,arguments)})),p(T,"input",t[57]),p(q,"click",(function(){l(t[30](t[75][t[77]].id))&&t[30](t[75][t[77]].id).apply(this,arguments)}))],U=!0)},p(e,n){if(t=e,1&n[0]&&Y!==(Y=t[75][t[77]].comment+"")&&d(o,Y),1&n[0]&&z!==(z=t[75][t[77]].created_at+"")&&d(y,z),1&n[0]&&F!==(F=t[75][t[77]].updated_at+"")&&d(D,F),1&n[0]&&G!==(G=t[75][t[77]].username+"")&&d(O,G),64&n[0]&&T.value!==t[6]&&h(T,t[6]),1&n[0]|1&n[1]){let e;for(V=t[75].comment_replies,e=0;e<V.length;e+=1){const a=K(t,V,e);I[e]?I[e].p(a,n):(I[e]=H(a),I[e].c(),I[e].m(N,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=V.length}},d(t){t&&i(e),t&&i(g),t&&i(w),t&&i(E),t&&i(k),t&&i(b),t&&i(v),t&&i(j),t&&i(P),t&&i(S),t&&i(T),t&&i(R),t&&i(q),t&&i(L),t&&i(A),r(I,t),t&&i(Q),U=!1,a(B)}}}function X(t){let e,n,o,g,w,x,y,E,k,b,v,$,D,j,P,C,O,S,T,R,q,L,A,K,B,Y,z,F,G,H,X,Z,tt,et,nt,at,lt,ot=t[72].link+"",ct=t[72].created_at+"",st=t[72].username+"",it=t[72].tags,rt=[];for(let e=0;e<it.length;e+=1)rt[e]=V(U(t,it,e));let ut=t[8],_t=[];for(let e=0;e<ut.length;e+=1)_t[e]=I(Q(t,ut,e));let mt=t[72].likes,pt=[];for(let e=0;e<mt.length;e+=1)pt[e]=J(N(t,mt,e));let ft=t[72].comments_and_replies,dt=[];for(let e=0;e<ft.length;e+=1)dt[e]=W(M(t,ft,e));return{c(){e=u("li"),n=u("div"),o=_("tag: \n\t\t\t");for(let t=0;t<rt.length;t+=1)rt[t].c();g=m(),w=u("div"),x=u("input"),y=m(),E=u("datalist");for(let t=0;t<_t.length;t+=1)_t[t].c();k=m(),b=u("button"),b.textContent="fetch_insert_tag",v=m(),$=u("button"),$.textContent="fetch_delete_link",D=m(),j=u("a"),P=_(ot),O=m(),S=u("div"),T=_("created_at: "),R=_(ct),q=m(),L=u("div"),A=_("username: "),K=_(st),B=m();for(let t=0;t<pt.length;t+=1)pt[t].c();Y=m(),z=u("button"),z.textContent="like_increment_or_decrement",F=m(),G=u("div"),H=u("input"),X=m(),Z=u("button"),Z.textContent="fetch_insert_comment",tt=m(),et=u("ul");for(let t=0;t<dt.length;t+=1)dt[t].c();nt=m(),f(n,"class","svelte-1bjmpqx"),f(x,"list","autocomplete_list"),f(x,"type","text"),f(x,"name",""),f(x,"id","hoge"),f(x,"placeholder","tag"),f(E,"id","autocomplete_list"),f(w,"class","svelte-1bjmpqx"),f(j,"href",C=t[72].link),f(j,"target","_blank"),f(S,"class","svelte-1bjmpqx"),f(L,"class","svelte-1bjmpqx"),f(H,"type","text"),f(H,"name",""),f(H,"id",""),f(H,"placeholder","comment"),f(G,"class","svelte-1bjmpqx"),f(et,"class","comment_zone svelte-1bjmpqx")},m(a,i){s(a,e,i),c(e,n),c(n,o);for(let t=0;t<rt.length;t+=1)rt[t]&&rt[t].m(n,null);c(e,g),c(e,w),c(w,x),t[54](x),h(x,t[7]),c(w,y),c(w,E);for(let t=0;t<_t.length;t+=1)_t[t]&&_t[t].m(E,null);c(w,k),c(w,b),c(e,v),c(e,$),c(e,D),c(e,j),c(j,P),c(e,O),c(e,S),c(S,T),c(S,R),c(e,q),c(e,L),c(L,A),c(L,K),c(e,B);for(let t=0;t<pt.length;t+=1)pt[t]&&pt[t].m(e,null);c(e,Y),c(e,z),c(e,F),c(e,G),c(G,H),h(H,t[5]),c(G,X),c(G,Z),c(e,tt),c(e,et);for(let t=0;t<dt.length;t+=1)dt[t]&&dt[t].m(et,null);c(e,nt),at||(lt=[p(x,"input",t[55]),p(x,"input",t[34]),p(b,"click",(function(){l(t[32](t[72].id))&&t[32](t[72].id).apply(this,arguments)})),p($,"click",(function(){l(t[26](t[72].id))&&t[26](t[72].id).apply(this,arguments)})),p(z,"click",(function(){l(t[27](t[72].id))&&t[27](t[72].id).apply(this,arguments)})),p(H,"input",t[56]),p(Z,"click",(function(){l(t[28](t[72].id))&&t[28](t[72].id).apply(this,arguments)}))],at=!0)},p(a,l){if(t=a,1&l[0]){let e;for(it=t[72].tags,e=0;e<it.length;e+=1){const a=U(t,it,e);rt[e]?rt[e].p(a,l):(rt[e]=V(a),rt[e].c(),rt[e].m(n,null))}for(;e<rt.length;e+=1)rt[e].d(1);rt.length=it.length}if(128&l[0]&&x.value!==t[7]&&h(x,t[7]),256&l[0]){let e;for(ut=t[8],e=0;e<ut.length;e+=1){const n=Q(t,ut,e);_t[e]?_t[e].p(n,l):(_t[e]=I(n),_t[e].c(),_t[e].m(E,null))}for(;e<_t.length;e+=1)_t[e].d(1);_t.length=ut.length}if(1&l[0]&&ot!==(ot=t[72].link+"")&&d(P,ot),1&l[0]&&C!==(C=t[72].link)&&f(j,"href",C),1&l[0]&&ct!==(ct=t[72].created_at+"")&&d(R,ct),1&l[0]&&st!==(st=t[72].username+"")&&d(K,st),1&l[0]){let n;for(mt=t[72].likes,n=0;n<mt.length;n+=1){const a=N(t,mt,n);pt[n]?pt[n].p(a,l):(pt[n]=J(),pt[n].c(),pt[n].m(e,Y))}for(;n<pt.length;n+=1)pt[n].d(1);pt.length=mt.length}if(32&l[0]&&H.value!==t[5]&&h(H,t[5]),1610612801&l[0]|1&l[1]){let e;for(ft=t[72].comments_and_replies,e=0;e<ft.length;e+=1){const n=M(t,ft,e);dt[e]?dt[e].p(n,l):(dt[e]=W(n),dt[e].c(),dt[e].m(et,null))}for(;e<dt.length;e+=1)dt[e].d(1);dt.length=ft.length}},d(n){n&&i(e),r(rt,n),t[54](null),r(_t,n),r(pt,n),r(dt,n),at=!1,a(lt)}}}function Z(e){let n,l,o,g,w,x,y,E,k,b,v,$,D,j,P,C,O,S,T,R,q,L,M,K,N,Q,U,Y,F,V,I,J,H,W,Z,tt,et,nt,at,lt,ot,ct,st,it,rt,ut,_t,mt,pt,ft,dt,ht,gt,wt,xt,yt=e[14]&&z(e),Et=e[15],kt=[];for(let t=0;t<Et.length;t+=1)kt[t]=G(B(e,Et,t));let bt=e[0],vt=[];for(let t=0;t<bt.length;t+=1)vt[t]=X(A(e,bt,t));return{c(){n=u("div"),l=_(e[14]),o=m(),yt&&yt.c(),g=m(),w=u("div");for(let t=0;t<kt.length;t+=1)kt[t].c();x=m(),y=u("div"),E=u("input"),k=m(),b=u("input"),v=m(),$=u("div"),D=u("input"),j=m(),P=u("input"),C=m(),O=u("input"),S=m(),T=u("div"),R=u("button"),R.textContent="fetch_get_collect_value_for_test",q=m(),L=u("button"),L.textContent="test_db_init_only_set_name_password_test_mode",M=m(),K=u("button"),K.textContent="test_db_init_on_start",N=m(),Q=u("button"),Q.textContent="test_db_init_on_end",U=m(),Y=u("button"),Y.textContent="test_sample_exe",F=m(),V=u("button"),V.textContent="test_sample_exe2",I=m(),J=u("button"),J.textContent="test_sample_exe3",H=m(),W=u("button"),W.textContent="test_sample_exe4",Z=m(),tt=u("button"),tt.textContent="test_sample_exe5",et=m(),nt=u("div"),at=u("input"),lt=m(),ot=u("button"),ot.textContent="insert_link",ct=m(),st=u("button"),st.textContent="clear condition",it=m(),rt=u("button"),ut=_("ORDER_BY: "),_t=_(e[10]),mt=m(),pt=u("button"),ft=_("ORDER_BY_COLUMN: "),dt=_(e[11]),ht=m(),gt=u("ul");for(let t=0;t<vt.length;t+=1)vt[t].c();f(n,"class","svelte-1bjmpqx"),f(w,"class","svelte-1bjmpqx"),f(E,"type","text"),f(E,"placeholder","REQ_TAG"),f(b,"type","text"),f(b,"placeholder","USER"),f(y,"class","svelte-1bjmpqx"),f(D,"type","text"),f(D,"placeholder","name"),f(P,"type","text"),f(P,"placeholder","password"),f(O,"type","text"),f(O,"placeholder","TEST_MODE"),f($,"class","svelte-1bjmpqx"),f(T,"class","svelte-1bjmpqx"),f(at,"type","text"),f(at,"placeholder","link_url"),f(at,"class","link"),f(ot,"class","insert_link"),f(nt,"class","svelte-1bjmpqx")},m(t,a){s(t,n,a),c(n,l),c(n,o),yt&&yt.m(n,null),s(t,g,a),s(t,w,a);for(let t=0;t<kt.length;t+=1)kt[t]&&kt[t].m(w,null);s(t,x,a),s(t,y,a),c(y,E),h(E,e[12]),c(y,k),c(y,b),h(b,e[13]),s(t,v,a),s(t,$,a),c($,D),h(D,e[1]),c($,j),c($,P),h(P,e[3]),c($,C),c($,O),h(O,e[2]),s(t,S,a),s(t,T,a),c(T,R),c(T,q),c(T,L),c(T,M),c(T,K),c(T,N),c(T,Q),c(T,U),c(T,Y),c(T,F),c(T,V),c(T,I),c(T,J),c(T,H),c(T,W),c(T,Z),c(T,tt),s(t,et,a),s(t,nt,a),c(nt,at),h(at,e[4]),c(nt,lt),c(nt,ot),c(nt,ct),c(nt,st),c(nt,it),c(nt,rt),c(rt,ut),c(rt,_t),c(nt,mt),c(nt,pt),c(pt,ft),c(pt,dt),s(t,ht,a),s(t,gt,a);for(let t=0;t<vt.length;t+=1)vt[t]&&vt[t].m(gt,null);wt||(xt=[p(E,"input",e[36]),p(b,"input",e[37]),p(D,"input",e[38]),p(P,"input",e[39]),p(O,"input",e[40]),p(R,"click",e[41]),p(L,"click",e[42]),p(K,"click",e[43]),p(Q,"click",e[44]),p(Y,"click",e[45]),p(V,"click",e[46]),p(J,"click",e[47]),p(W,"click",e[48]),p(tt,"click",e[49]),p(at,"input",e[50]),p(ot,"click",e[25]),p(st,"click",e[51]),p(rt,"click",e[52]),p(pt,"click",e[53])],wt=!0)},p(t,e){if(16384&e[0]&&d(l,t[14]),t[14]?yt?yt.p(t,e):(yt=z(t),yt.c(),yt.m(n,null)):yt&&(yt.d(1),yt=null),32768&e[0]){let n;for(Et=t[15],n=0;n<Et.length;n+=1){const a=B(t,Et,n);kt[n]?kt[n].p(a,e):(kt[n]=G(a),kt[n].c(),kt[n].m(w,null))}for(;n<kt.length;n+=1)kt[n].d(1);kt.length=Et.length}if(4096&e[0]&&E.value!==t[12]&&h(E,t[12]),8192&e[0]&&b.value!==t[13]&&h(b,t[13]),2&e[0]&&D.value!==t[1]&&h(D,t[1]),8&e[0]&&P.value!==t[3]&&h(P,t[3]),4&e[0]&&O.value!==t[2]&&h(O,t[2]),16&e[0]&&at.value!==t[4]&&h(at,t[4]),1024&e[0]&&d(_t,t[10]),2048&e[0]&&d(dt,t[11]),2080375777&e[0]|11&e[1]){let n;for(bt=t[0],n=0;n<bt.length;n+=1){const a=A(t,bt,n);vt[n]?vt[n].p(a,e):(vt[n]=X(a),vt[n].c(),vt[n].m(gt,null))}for(;n<vt.length;n+=1)vt[n].d(1);vt.length=bt.length}},i:t,o:t,d(t){t&&i(n),yt&&yt.d(),t&&i(g),t&&i(w),r(kt,t),t&&i(x),t&&i(y),t&&i(v),t&&i($),t&&i(S),t&&i(T),t&&i(et),t&&i(nt),t&&i(ht),t&&i(gt),r(vt,t),wt=!1,a(xt)}}}function tt(t,e,n){let a,l=[],o="user1",c="TEST_MODE",s="user_pass1",i="https://yanaka.dev/",r="comment1",u="reply1",_="tag1",m=[],p="",f="DESC",d="links.id",h="",g="",w="",y="",k=[],b=[],v=[{value:0},{value2:1}];const $=async()=>{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE")},D=async()=>{try{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",Q({name:o,password:s,test_mode:c}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})()}catch(t){n(14,w=t.message)}},j=async()=>{try{n(1,o="testuser"),n(3,s="duct_mean_fuckst1ck"),n(2,c="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",Q({name:o,password:s,test_mode:c}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})()}catch(t){n(14,w=t.message)}},P=(t,e)=>{"success"===y&&(console.log("OK"),b.push(["OK",(t?t+"は":"")+"OK"])),w===e?(console.log("OK"),k.push(["OK",e])):console.log("NG")},C=async({Data:t="SELECT",Expect_result:e="SQLの予約語を含む場合はエラー"})=>{n(4,i=t),await B(),P(t,e)},O=async({Data:t="test!",Param_of_link_id:e=1,Expect_result:n="記号を含む場合はエラー"})=>{await G(e,t),P(t,n)},S=async({Data:t="a".repeat(51),Param_of_link_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(5,r=t),await z(e),P(t,a)},T=async({Data:t="a".repeat(51),Param_of_comment_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(6,u=t),await F(e),P(t,a)},R=async({Data:t="",Param_of_link_id:e=1,Expect_result:n="success"})=>{await Y(e),P(t,n)},q=async()=>{await D(),await C({Data:"SELECT",Expect_result:"SQLの予約語を含む場合はエラー"}),await C({Data:"https::///google.co.jp",Expect_result:"URLの形式が正しくありません"}),await C({Data:"https://hogehoge.com/",Expect_result:"許可されていないURLです"}),await C({Data:"https://www.yahoo.co.jp/",Expect_result:"OK"}),await C({Data:"https://www.google.co.jp/",Expect_result:"OK"}),await C({Data:"https://www.youtube.com/",Expect_result:"OK"}),await C({Data:"https://www.google.co.jp/",Expect_result:"同じlinkが存在します"}),console.log(k),console.log(b)},L=async()=>{await O({Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await O({Data:"test!",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await O({Data:"test tag",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await O({Data:"testlong",Param_of_link_id:1,Expect_result:"7文字以上はエラー"}),await O({Data:"SELECT",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await O({Data:"test",Param_of_link_id:1,Expect_result:"OK"}),await O({Data:"test",Param_of_link_id:1,Expect_result:"既に同じタグがついています"}),await O({Data:"test",Param_of_link_id:2,Expect_result:"OK"}),await O({Data:"test",Param_of_link_id:2,Expect_result:"既に同じタグがついています"}),console.log(k),console.log(b)},A=async()=>{await S({Data:"a".repeat(1500),Param_of_link_id:1,Expect_result:"commentの文字数がdata_limit(test userは50)を超える場合はエラー"}),await S({Data:"",Param_of_link_id:1,Expect_result:"0文字の場合はエラー"}),await S({Data:"This is a comment with spaces",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await S({Data:"This!Symbol",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await S({Data:"a".repeat(301),Param_of_link_id:1,Expect_result:"300文字以上はエラー"}),await S({Data:"SELECT * FROM comments",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await S({Data:"ThisIsaValidComment",Param_of_link_id:1,Expect_result:"OK"})},M=async()=>{await T({Data:"a".repeat(1500),Param_of_comment_id:1,Expect_result:"comment_replyの文字数がdata_limit(test userは50)を超える場合はエラー"}),await T({Data:"",Param_of_comment_id:1,Expect_result:"0文字の場合はエラー"}),await T({Data:"This!Symbol",Param_of_comment_id:1,Expect_result:"記号を含む場合はエラー"}),await T({Data:"spa ces",Param_of_comment_id:1,Expect_result:"空白を含む場合はエラー"}),await T({Data:"a".repeat(11),Param_of_comment_id:1,Expect_result:"10文字以上はエラー"}),await T({Data:"SELECT * FROM comments",Param_of_comment_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await T({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"OK"}),await T({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"同じユーザーから同じcommentへのreplyが既に存在する場合はエラー"})},K=async()=>{await R({Param_of_link_id:1e9,Expect_result:"link_idがありません"}),await R({Param_of_link_id:1,Expect_result:"success"}),await R({Param_of_link_id:1,Expect_result:"success"}),await R({Param_of_link_id:1,Expect_result:"success"})},N=async({ORDER_BY_PARAM:t="DESC",ORDER_BY_COLUMN_PARAM:e="links.id",REQ_TAG_PARAM:a,USER_PARAM:o})=>{try{n(10,f=t),n(11,d=e),n(12,h=a),n(13,g=o);const c=()=>{const t=[];f&&t.push(`order_by=${f}`),d&&t.push(`order_by_column=${d}`),h&&t.push(`tag=${h}`),g&&t.push(`user=${g}`);return`http://localhost:8000/read_all?${t.join("&")}`},s=await(await fetch(c())).json();if("fail"===s.result)throw new Error(s.error);const i=await(await fetch(c())).json();if(0===i.length)throw new Error("条件に一致するデータがありませんでした");n(0,l=i.message)}catch(t){console.log(t),n(14,w=t.message)}},Q=t=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),U=async t=>{try{200===t.status&&(y=t.result),"fail"===t.result||400===t.status?(()=>{throw new Error(t.message)})():await N({})}catch(t){(()=>{throw new Error(t.message)})()}},B=async()=>{try{a=await(await fetch("http://localhost:8000/insert_link",Q({name:o,password:s,link:i}))).json(),await U(a)}catch(t){n(14,w=t.message)}},Y=async t=>{try{a=await(await fetch("http://localhost:8000/like_increment_or_decrement",Q({name:o,password:s,link_id:t}))).json(),await U(a)}catch(t){n(14,w=t.message)}},z=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment",Q({name:o,password:s,link_id:t,comment:r}))).json(),await U(a)}catch(t){n(14,w=t.message)}},F=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment_reply",Q({name:o,password:s,comment_id:t,comment_reply:u}))).json(),await U(a)}catch(t){n(14,w=t.message)}},G=async(t,e)=>{try{n(7,_=e||p.value),a=await(await fetch("http://localhost:8000/insert_tag",Q({name:o,password:s,link_id:t,tag:_}))).json(),await U(a)}catch(t){n(14,w=t.message)}},V=async()=>{try{const t=await(await fetch("http://localhost:8000/get_collect_value_for_test",Q({name:o,password:s}))).json();n(15,v=t.message)}catch(t){console.log(t)}},I=async()=>{const t=await(await fetch("http://localhost:8000/get_tags_for_autocomplete",Q({name:o,password:s}))).json(),e=await t;n(8,m=await e.message)};x((async()=>{try{await N({}),await I()}catch(t){console.log(t)}}));return[l,o,c,s,i,r,u,_,m,p,f,d,h,g,w,v,$,D,j,q,L,A,M,K,N,B,async t=>{try{a=await(await fetch("http://localhost:8000/delete_link",Q({name:o,password:s,id:t}))).json(),await U(a)}catch(t){n(14,w=t.message)}},Y,z,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment",Q({name:o,password:s,comment_id:t}))).json(),await U(a)}catch(t){n(14,w=t.message)}},F,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment_reply",Q({name:o,password:s,comment_reply_id:t}))).json(),await U(a)}catch(t){n(14,w=t.message)}},G,V,I,()=>n(14,w=""),function(){h=this.value,n(12,h)},function(){g=this.value,n(13,g)},function(){o=this.value,n(1,o)},function(){s=this.value,n(3,s)},function(){c=this.value,n(2,c)},()=>V(),()=>$(),()=>D(),()=>j(),()=>q(),()=>L(),()=>A(),()=>M(),()=>K(),function(){i=this.value,n(4,i)},()=>N({}),()=>n(10,f="DESC"===f?"ASC":"DESC"),()=>n(11,d="links.id"===d?"created_at":"created_at"===d?"updated_at":"links.id"),function(t){E[t?"unshift":"push"]((()=>{p=t,n(9,p)}))},function(){_=this.value,n(7,_)},function(){r=this.value,n(5,r)},function(){u=this.value,n(6,u)}]}return new class extends L{constructor(t){super(),q(this,t,tt,Z,o,{},null,[-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
