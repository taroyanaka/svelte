var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function a(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function r(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function m(){return _(" ")}function p(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}function d(t,e){t.value=null==e?"":e}let g;function E(t){g=t}function w(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const x=[],y=[];let k=[];const v=[],b=Promise.resolve();let S=!1;function P(t){k.push(t)}const O=new Set;let $=0;function D(){if(0!==$)return;const t=g;do{try{for(;$<x.length;){const t=x[$];$++,E(t),j(t.$$)}}catch(t){throw x.length=0,$=0,t}for(E(null),x.length=0,$=0;y.length;)y.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];O.has(e)||(O.add(e),e())}k.length=0}while(x.length);for(;v.length;)v.pop()();S=!1,O.clear(),E(t)}function j(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}const C=new Set;function N(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];k.forEach((a=>-1===t.indexOf(a)?e.push(a):n.push(a))),n.forEach((t=>t())),k=e}(n.after_update),a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function T(t,e){-1===t.$$.dirty[0]&&(x.push(t),S||(S=!0,b.then(D)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(l,s,c,i,u,_,m,p=[-1]){const f=g;E(l);const h=l.$$={fragment:null,ctx:[],props:_,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(f?f.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||f.$$.root};m&&m(h.root);let d=!1;if(h.ctx=c?c(l,s.props||{},((t,e,...n)=>{const a=n.length?n[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=a)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](a),d&&T(l,t)),e})):[],h.update(),d=!0,a(h.before_update),h.fragment=!!i&&i(h.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);h.fragment&&h.fragment.l(t),t.forEach(r)}else h.fragment&&h.fragment.c();s.intro&&((w=l.$$.fragment)&&w.i&&(C.delete(w),w.i(x))),function(t,n,l,s){const{fragment:c,after_update:r}=t.$$;c&&c.m(n,l),s||P((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):a(n),t.$$.on_mount=[]})),r.forEach(P)}(l,s.target,s.anchor,s.customElement),D()}var w,x;E(f)}class L{$destroy(){N(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(n),()=>{const t=a.indexOf(n);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function M(t,e,n){const a=t.slice();return a[77]=e[n],a[79]=n,a}function q(t,e,n){const a=t.slice();return a[80]=e[n],a[82]=n,a}function K(t,e,n){const a=t.slice();return a[83]=e[n],a[82]=n,a}function U(t,e,n){const a=t.slice();return a[77]=e[n],a[79]=n,a}function Q(t,e,n){const a=t.slice();return a[77]=e[n],a[79]=n,a}function B(t,e,n){const a=t.slice();return a[87]=e[n],a[82]=n,a}function Y(t,e,n){const a=t.slice();return a[89]=e[n],a}function G(t,e,n){const a=t.slice();return a[92]=e[n],a}function z(e){let n,a,o;return{c(){n=u("button"),n.textContent="remove_error_message"},m(t,l){c(t,n,l),a||(o=p(n,"click",e[35]),a=!0)},p:t,d(t){t&&r(n),a=!1,o()}}}function F(t){let e,n,a,o,l=t[92]+"",i=t[89][t[92]]+"";return{c(){e=u("div"),n=_(l),a=_(": "),o=_(i),f(e,"class","svelte-1bjmpqx")},m(t,l){c(t,e,l),s(e,n),s(e,a),s(e,o)},p(t,e){32768&e[0]&&l!==(l=t[92]+"")&&h(n,l),32768&e[0]&&i!==(i=t[89][t[92]]+"")&&h(o,i)},d(t){t&&r(e)}}}function I(t){let e,n,a=Object.keys(t[89]),o=[];for(let e=0;e<a.length;e+=1)o[e]=F(G(t,a,e));return{c(){e=u("div");for(let t=0;t<o.length;t+=1)o[t].c();n=m(),f(e,"class","svelte-1bjmpqx")},m(t,a){c(t,e,a);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,null);s(e,n)},p(t,l){if(32768&l[0]){let s;for(a=Object.keys(t[89]),s=0;s<a.length;s+=1){const c=G(t,a,s);o[s]?o[s].p(c,l):(o[s]=F(c),o[s].c(),o[s].m(e,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(t){t&&r(e),i(o,t)}}}function V(t){let e,n,a,o=t[87].tag+"";return{c(){e=u("span"),n=_(o),a=_(", ")},m(t,o){c(t,e,o),s(e,n),s(e,a)},p(t,e){1&e[0]&&o!==(o=t[87].tag+"")&&h(n,o)},d(t){t&&r(e)}}}function J(t){let e,n;return{c(){e=u("option"),e.__value=n=t[77].tag,e.value=e.__value},m(t,n){c(t,e,n)},p(t,a){256&a[0]&&n!==(n=t[77].tag)&&(e.__value=n,e.value=e.__value)},d(t){t&&r(e)}}}function H(e){let n;return{c(){n=u("span"),n.textContent="😇"},m(t,e){c(t,n,e)},p:t,d(t){t&&r(n)}}}function W(t){let e,n,a,l,i,f,d,g,E,w,x,y,k=t[83].reply+"",v=t[83].username+"";return{c(){e=u("li"),n=_("reply: "),a=_(k),l=m(),i=u("li"),f=_("username: "),d=_(v),g=m(),E=u("button"),E.textContent="fetch_delete_comment_reply",w=m()},m(r,u){c(r,e,u),s(e,n),s(e,a),c(r,l,u),c(r,i,u),s(i,f),s(i,d),c(r,g,u),c(r,E,u),c(r,w,u),x||(y=p(E,"click",(function(){o(t[31](t[83].id))&&t[31](t[83].id).apply(this,arguments)})),x=!0)},p(e,n){t=e,1&n[0]&&k!==(k=t[83].reply+"")&&h(a,k),1&n[0]&&v!==(v=t[83].username+"")&&h(d,v)},d(t){t&&r(e),t&&r(l),t&&r(i),t&&r(g),t&&r(E),t&&r(w),x=!1,y()}}}function X(t){let e,n,l,g,E,w,x,y,k,v,b,S,P,O,R,$,D,j,C,N,T,A,L,M,q,U,Q,B,Y=t[80][t[82]].comment+"",G=t[80][t[82]].created_at+"",z=t[80][t[82]].updated_at+"",F=t[80][t[82]].username+"",I=t[80].comment_replies,V=[];for(let e=0;e<I.length;e+=1)V[e]=W(K(t,I,e));return{c(){e=u("li"),n=_("comment: "),l=_(Y),g=m(),E=u("li"),w=_("created_at: "),x=_(G),y=m(),k=u("button"),k.textContent="fetch_delete_comment",v=m(),b=u("li"),S=_("updated_at: "),P=_(z),O=m(),R=u("li"),$=_("username: "),D=_(F),j=m(),C=u("input"),N=m(),T=u("button"),T.textContent="fetch_insert_comment_reply",A=m(),L=u("li"),M=_("comment_replies:\n\t\t\t\t"),q=u("ul");for(let t=0;t<V.length;t+=1)V[t].c();U=m(),f(C,"type","text"),f(C,"placeholder","comment_reply"),f(L,"class","reply_zone svelte-1bjmpqx")},m(a,r){c(a,e,r),s(e,n),s(e,l),c(a,g,r),c(a,E,r),s(E,w),s(E,x),c(a,y,r),c(a,k,r),c(a,v,r),c(a,b,r),s(b,S),s(b,P),c(a,O,r),c(a,R,r),s(R,$),s(R,D),c(a,j,r),c(a,C,r),d(C,t[6]),c(a,N,r),c(a,T,r),c(a,A,r),c(a,L,r),s(L,M),s(L,q);for(let t=0;t<V.length;t+=1)V[t]&&V[t].m(q,null);c(a,U,r),Q||(B=[p(k,"click",(function(){o(t[29](t[80][t[82]].id))&&t[29](t[80][t[82]].id).apply(this,arguments)})),p(C,"input",t[58]),p(T,"click",(function(){o(t[30](t[80][t[82]].id))&&t[30](t[80][t[82]].id).apply(this,arguments)}))],Q=!0)},p(e,n){if(t=e,1&n[0]&&Y!==(Y=t[80][t[82]].comment+"")&&h(l,Y),1&n[0]&&G!==(G=t[80][t[82]].created_at+"")&&h(x,G),1&n[0]&&z!==(z=t[80][t[82]].updated_at+"")&&h(P,z),1&n[0]&&F!==(F=t[80][t[82]].username+"")&&h(D,F),64&n[0]&&C.value!==t[6]&&d(C,t[6]),1&n[0]|1&n[1]){let e;for(I=t[80].comment_replies,e=0;e<I.length;e+=1){const a=K(t,I,e);V[e]?V[e].p(a,n):(V[e]=W(a),V[e].c(),V[e].m(q,null))}for(;e<V.length;e+=1)V[e].d(1);V.length=I.length}},d(t){t&&r(e),t&&r(g),t&&r(E),t&&r(y),t&&r(k),t&&r(v),t&&r(b),t&&r(O),t&&r(R),t&&r(j),t&&r(C),t&&r(N),t&&r(T),t&&r(A),t&&r(L),i(V,t),t&&r(U),Q=!1,a(B)}}}function Z(t){let e,n,l,g,E,w,x,y,k,v,b,S,P,O,R,$,D,j,C,N,T,A,L,M,K,Y,G,z,F,I,W,Z,tt,et,nt,at,ot,lt=t[77].link+"",st=t[77].created_at+"",ct=t[77].username+"",rt=t[77].tags,it=[];for(let e=0;e<rt.length;e+=1)it[e]=V(B(t,rt,e));let ut=t[8],_t=[];for(let e=0;e<ut.length;e+=1)_t[e]=J(Q(t,ut,e));let mt=t[77].likes,pt=[];for(let e=0;e<mt.length;e+=1)pt[e]=H(U(t,mt,e));let ft=t[77].comments_and_replies,ht=[];for(let e=0;e<ft.length;e+=1)ht[e]=X(q(t,ft,e));return{c(){e=u("li"),n=u("div"),l=_("tag: \n\t\t\t");for(let t=0;t<it.length;t+=1)it[t].c();g=m(),E=u("div"),w=u("input"),x=m(),y=u("datalist");for(let t=0;t<_t.length;t+=1)_t[t].c();k=m(),v=u("button"),v.textContent="fetch_insert_tag",b=m(),S=u("button"),S.textContent="fetch_delete_link",P=m(),O=u("a"),R=_(lt),D=m(),j=u("div"),C=_("created_at: "),N=_(st),T=m(),A=u("div"),L=_("username: "),M=_(ct),K=m();for(let t=0;t<pt.length;t+=1)pt[t].c();Y=m(),G=u("button"),G.textContent="like_increment_or_decrement",z=m(),F=u("div"),I=u("input"),W=m(),Z=u("button"),Z.textContent="fetch_insert_comment",tt=m(),et=u("ul");for(let t=0;t<ht.length;t+=1)ht[t].c();nt=m(),f(n,"class","svelte-1bjmpqx"),f(w,"list","autocomplete_list"),f(w,"type","text"),f(w,"name",""),f(w,"id","hoge"),f(w,"placeholder","tag"),f(y,"id","autocomplete_list"),f(E,"class","svelte-1bjmpqx"),f(O,"href",$=t[77].link),f(O,"target","_blank"),f(j,"class","svelte-1bjmpqx"),f(A,"class","svelte-1bjmpqx"),f(I,"type","text"),f(I,"name",""),f(I,"id",""),f(I,"placeholder","comment"),f(F,"class","svelte-1bjmpqx"),f(et,"class","comment_zone svelte-1bjmpqx")},m(a,r){c(a,e,r),s(e,n),s(n,l);for(let t=0;t<it.length;t+=1)it[t]&&it[t].m(n,null);s(e,g),s(e,E),s(E,w),t[55](w),d(w,t[7]),s(E,x),s(E,y);for(let t=0;t<_t.length;t+=1)_t[t]&&_t[t].m(y,null);s(E,k),s(E,v),s(e,b),s(e,S),s(e,P),s(e,O),s(O,R),s(e,D),s(e,j),s(j,C),s(j,N),s(e,T),s(e,A),s(A,L),s(A,M),s(e,K);for(let t=0;t<pt.length;t+=1)pt[t]&&pt[t].m(e,null);s(e,Y),s(e,G),s(e,z),s(e,F),s(F,I),d(I,t[5]),s(F,W),s(F,Z),s(e,tt),s(e,et);for(let t=0;t<ht.length;t+=1)ht[t]&&ht[t].m(et,null);s(e,nt),at||(ot=[p(w,"input",t[56]),p(w,"input",t[34]),p(v,"click",(function(){o(t[33](t[77].id))&&t[33](t[77].id).apply(this,arguments)})),p(S,"click",(function(){o(t[26](t[77].id))&&t[26](t[77].id).apply(this,arguments)})),p(G,"click",(function(){o(t[27](t[77].id))&&t[27](t[77].id).apply(this,arguments)})),p(I,"input",t[57]),p(Z,"click",(function(){o(t[28](t[77].id))&&t[28](t[77].id).apply(this,arguments)}))],at=!0)},p(a,o){if(t=a,1&o[0]){let e;for(rt=t[77].tags,e=0;e<rt.length;e+=1){const a=B(t,rt,e);it[e]?it[e].p(a,o):(it[e]=V(a),it[e].c(),it[e].m(n,null))}for(;e<it.length;e+=1)it[e].d(1);it.length=rt.length}if(128&o[0]&&w.value!==t[7]&&d(w,t[7]),256&o[0]){let e;for(ut=t[8],e=0;e<ut.length;e+=1){const n=Q(t,ut,e);_t[e]?_t[e].p(n,o):(_t[e]=J(n),_t[e].c(),_t[e].m(y,null))}for(;e<_t.length;e+=1)_t[e].d(1);_t.length=ut.length}if(1&o[0]&&lt!==(lt=t[77].link+"")&&h(R,lt),1&o[0]&&$!==($=t[77].link)&&f(O,"href",$),1&o[0]&&st!==(st=t[77].created_at+"")&&h(N,st),1&o[0]&&ct!==(ct=t[77].username+"")&&h(M,ct),1&o[0]){let n;for(mt=t[77].likes,n=0;n<mt.length;n+=1){const a=U(t,mt,n);pt[n]?pt[n].p(a,o):(pt[n]=H(),pt[n].c(),pt[n].m(e,Y))}for(;n<pt.length;n+=1)pt[n].d(1);pt.length=mt.length}if(32&o[0]&&I.value!==t[5]&&d(I,t[5]),1610612801&o[0]|1&o[1]){let e;for(ft=t[77].comments_and_replies,e=0;e<ft.length;e+=1){const n=q(t,ft,e);ht[e]?ht[e].p(n,o):(ht[e]=X(n),ht[e].c(),ht[e].m(et,null))}for(;e<ht.length;e+=1)ht[e].d(1);ht.length=ft.length}},d(n){n&&r(e),i(it,n),t[55](null),i(_t,n),i(pt,n),i(ht,n),at=!1,a(ot)}}}function tt(e){let n,o,l,g,E,w,x,y,k,v,b,S,P,O,R,$,D,j,C,N,T,A,L,q,K,U,Q,B,G,F,V,J,H,W,X,tt,et,nt,at,ot,lt,st,ct,rt,it,ut,_t,mt,pt,ft,ht,dt,gt=e[10]&&z(e),Et=e[15],wt=[];for(let t=0;t<Et.length;t+=1)wt[t]=I(Y(e,Et,t));let xt=e[0],yt=[];for(let t=0;t<xt.length;t+=1)yt[t]=Z(M(e,xt,t));return{c(){n=u("div"),o=_(e[10]),l=m(),gt&&gt.c(),g=m(),E=u("div");for(let t=0;t<wt.length;t+=1)wt[t].c();w=m(),x=u("div"),y=u("input"),k=m(),v=u("input"),b=m(),S=u("input"),P=m(),O=u("input"),R=m(),$=u("div"),D=u("input"),j=m(),C=u("input"),N=m(),T=u("input"),A=m(),L=u("input"),q=m(),K=u("button"),K.textContent="insert_link",U=m(),Q=u("div"),B=u("button"),B.textContent="fetch_get_collect_value_for_test",G=m(),F=u("button"),F.textContent="test_db_init_only_set_name_password_test_mode",V=m(),J=u("button"),J.textContent="test_db_init_on_start",H=m(),W=u("button"),W.textContent="test_db_init_on_end",X=m(),tt=u("button"),tt.textContent="test_sample_exe",et=m(),nt=u("button"),nt.textContent="test_sample_exe2",at=m(),ot=u("button"),ot.textContent="test_sample_exe3",lt=m(),st=u("button"),st.textContent="test_sample_exe4",ct=m(),rt=u("button"),rt.textContent="test_sample_exe5",it=m(),ut=u("button"),ut.textContent="clear condition",_t=m(),mt=u("button"),mt.textContent="user2",pt=m(),ft=u("ul");for(let t=0;t<yt.length;t+=1)yt[t].c();f(n,"class","svelte-1bjmpqx"),f(E,"class","svelte-1bjmpqx"),f(y,"type","text"),f(y,"placeholder","ORDER_BY"),f(v,"type","text"),f(v,"placeholder","ORDER_BY_COLUMN"),f(S,"type","text"),f(S,"placeholder","REQ_TAG"),f(O,"type","text"),f(O,"placeholder","USER"),f(x,"class","svelte-1bjmpqx"),f(D,"type","text"),f(D,"placeholder","name"),f(C,"type","text"),f(C,"placeholder","password"),f(T,"type","text"),f(T,"placeholder","TEST_MODE"),f(L,"type","text"),f(L,"placeholder","link_url"),f(L,"class","link"),f(K,"class","insert_link"),f($,"class","svelte-1bjmpqx"),f(Q,"class","svelte-1bjmpqx")},m(t,a){c(t,n,a),s(n,o),s(n,l),gt&&gt.m(n,null),c(t,g,a),c(t,E,a);for(let t=0;t<wt.length;t+=1)wt[t]&&wt[t].m(E,null);c(t,w,a),c(t,x,a),s(x,y),d(y,e[11]),s(x,k),s(x,v),d(v,e[12]),s(x,b),s(x,S),d(S,e[13]),s(x,P),s(x,O),d(O,e[14]),c(t,R,a),c(t,$,a),s($,D),d(D,e[1]),s($,j),s($,C),d(C,e[3]),s($,N),s($,T),d(T,e[2]),s($,A),s($,L),d(L,e[4]),s($,q),s($,K),c(t,U,a),c(t,Q,a),s(Q,B),s(Q,G),s(Q,F),s(Q,V),s(Q,J),s(Q,H),s(Q,W),s(Q,X),s(Q,tt),s(Q,et),s(Q,nt),s(Q,at),s(Q,ot),s(Q,lt),s(Q,st),s(Q,ct),s(Q,rt),s(Q,it),s(Q,ut),s(Q,_t),s(Q,mt),c(t,pt,a),c(t,ft,a);for(let t=0;t<yt.length;t+=1)yt[t]&&yt[t].m(ft,null);ht||(dt=[p(y,"input",e[36]),p(v,"input",e[37]),p(S,"input",e[38]),p(O,"input",e[39]),p(D,"input",e[40]),p(C,"input",e[41]),p(T,"input",e[42]),p(L,"input",e[43]),p(K,"click",e[25]),p(B,"click",e[44]),p(F,"click",e[45]),p(J,"click",e[46]),p(W,"click",e[47]),p(tt,"click",e[48]),p(nt,"click",e[49]),p(ot,"click",e[50]),p(st,"click",e[51]),p(rt,"click",e[52]),p(ut,"click",e[53]),p(mt,"click",e[54])],ht=!0)},p(t,e){if(1024&e[0]&&h(o,t[10]),t[10]?gt?gt.p(t,e):(gt=z(t),gt.c(),gt.m(n,null)):gt&&(gt.d(1),gt=null),32768&e[0]){let n;for(Et=t[15],n=0;n<Et.length;n+=1){const a=Y(t,Et,n);wt[n]?wt[n].p(a,e):(wt[n]=I(a),wt[n].c(),wt[n].m(E,null))}for(;n<wt.length;n+=1)wt[n].d(1);wt.length=Et.length}if(2048&e[0]&&y.value!==t[11]&&d(y,t[11]),4096&e[0]&&v.value!==t[12]&&d(v,t[12]),8192&e[0]&&S.value!==t[13]&&d(S,t[13]),16384&e[0]&&O.value!==t[14]&&d(O,t[14]),2&e[0]&&D.value!==t[1]&&d(D,t[1]),8&e[0]&&C.value!==t[3]&&d(C,t[3]),4&e[0]&&T.value!==t[2]&&d(T,t[2]),16&e[0]&&L.value!==t[4]&&d(L,t[4]),2080375777&e[0]|13&e[1]){let n;for(xt=t[0],n=0;n<xt.length;n+=1){const a=M(t,xt,n);yt[n]?yt[n].p(a,e):(yt[n]=Z(a),yt[n].c(),yt[n].m(ft,null))}for(;n<yt.length;n+=1)yt[n].d(1);yt.length=xt.length}},i:t,o:t,d(t){t&&r(n),gt&&gt.d(),t&&r(g),t&&r(E),i(wt,t),t&&r(w),t&&r(x),t&&r(R),t&&r($),t&&r(U),t&&r(Q),t&&r(pt),t&&r(ft),i(yt,t),ht=!1,a(dt)}}}function et(t,e,n){let a,o=[],l="user1",s="TEST_MODE",c="user_pass1",r="https://yanaka.dev/",i="comment1",u="reply1",_="tag1",m=[],p="",f="",h="",d="DESC",g="links.id",E="",x="";const k=async()=>{n(1,l="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE")},v=async()=>{try{n(1,l="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",B({name:l,password:c,test_mode:s}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})(),console.log(a.result)}catch(t){n(10,f=t.message)}},b=async()=>{try{n(1,l="testuser"),n(3,c="duct_mean_fuckst1ck"),n(2,s="TEST_MODE"),a=await(await fetch("http://localhost:8000/test_db_init",B({name:l,password:c,test_mode:s}))).json(),"fail"===a.result&&(()=>{throw new Error(a.error)})(),console.log(a.result)}catch(t){n(10,f=t.message)}};let S=[],P=[];const O=(t,e)=>{"success"===h&&(console.log("OK"),P.push(["OK",(t?t+"は":"")+"OK"])),f===e?(console.log("OK"),S.push(["OK",e])):console.log("NG")},$=async({Data:t="SELECT",Expect_result:e="SQLの予約語を含む場合はエラー"})=>{n(4,r=t),await Y(),O(t,e)},D=async({Data:t="test!",Param_of_link_id:e=1,Expect_result:n="記号を含む場合はエラー"})=>{await J(e,t),O(t,n)},j=async({Data:t="a".repeat(51),Param_of_link_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(5,i=t),await z(e),O(t,a)},C=async({Data:t="a".repeat(51),Param_of_comment_id:e=1,Expect_result:a="commentの文字数がdata_limitを超える場合はエラー"})=>{n(6,u=t),await F(e),O(t,a)},N=async({Data:t="",Param_of_link_id:e=1,Expect_result:n="success"})=>{await G(e),O(t,n)},T=async()=>{await v(),await $({Data:"SELECT",Expect_result:"SQLの予約語を含む場合はエラー"}),await $({Data:"https::///google.co.jp",Expect_result:"URLの形式が正しくありません"}),await $({Data:"https://hogehoge.com/",Expect_result:"許可されていないURLです"}),await $({Data:"https://www.yahoo.co.jp/",Expect_result:"OK"}),await $({Data:"https://www.google.co.jp/",Expect_result:"OK"}),await $({Data:"https://www.youtube.com/",Expect_result:"OK"}),await $({Data:"https://www.google.co.jp/",Expect_result:"同じlinkが存在します"}),console.log(S),console.log(P)},A=async()=>{await D({Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await D({Data:"test!",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await D({Data:"test tag",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await D({Data:"testlong",Param_of_link_id:1,Expect_result:"7文字以上はエラー"}),await D({Data:"SELECT",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await D({Data:"test",Param_of_link_id:1,Expect_result:"OK"}),await D({Data:"test",Param_of_link_id:1,Expect_result:"既に同じタグがついています"}),await D({Data:"test",Param_of_link_id:2,Expect_result:"OK"}),await D({Data:"test",Param_of_link_id:2,Expect_result:"既に同じタグがついています"}),console.log(S),console.log(P)},L=async()=>{await j({Data:"a".repeat(1500),Param_of_link_id:1,Expect_result:"commentの文字数がdata_limit(test userは50)を超える場合はエラー"}),await j({Data:"",Param_of_link_id:1,Expect_result:"0文字の場合はエラー"}),await j({Data:"This is a comment with spaces",Param_of_link_id:1,Expect_result:"空白を含む場合はエラー"}),await j({Data:"This!Symbol",Param_of_link_id:1,Expect_result:"記号を含む場合はエラー"}),await j({Data:"a".repeat(301),Param_of_link_id:1,Expect_result:"300文字以上はエラー"}),await j({Data:"SELECT * FROM comments",Param_of_link_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await j({Data:"ThisIsaValidComment",Param_of_link_id:1,Expect_result:"OK"})},M=async()=>{await C({Data:"a".repeat(1500),Param_of_comment_id:1,Expect_result:"comment_replyの文字数がdata_limit(test userは50)を超える場合はエラー"}),await C({Data:"",Param_of_comment_id:1,Expect_result:"0文字の場合はエラー"}),await C({Data:"This!Symbol",Param_of_comment_id:1,Expect_result:"記号を含む場合はエラー"}),await C({Data:"spa ces",Param_of_comment_id:1,Expect_result:"空白を含む場合はエラー"}),await C({Data:"a".repeat(11),Param_of_comment_id:1,Expect_result:"10文字以上はエラー"}),await C({Data:"SELECT * FROM comments",Param_of_comment_id:1,Expect_result:"SQLの予約語を含む場合はエラー"}),await C({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"OK"}),await C({Data:"ValidRep",Param_of_comment_id:1,Expect_result:"同じユーザーから同じcommentへのreplyが既に存在する場合はエラー"})},q=async()=>{await N({Param_of_link_id:1e9,Expect_result:"link_idがありません"}),await N({Param_of_link_id:1,Expect_result:"success"}),await N({Param_of_link_id:1,Expect_result:"success"}),await N({Param_of_link_id:1,Expect_result:"success"})},K=R.xprod(["tag1","tag2","tag3"],["user1","user2","user3"]),U=R.xprod(["links.id","like_count"],K);R.xprod(["DESC","ASC"],U).map((t=>R.flatten(t))).map((t=>({ORDER_BY:t[0],ORDER_BY_COLUMN:t[1],REQ_TAG:t[2],USER:t[3]})));const Q=async({ORDER_BY_PARAM:t="DESC",ORDER_BY_COLUMN_PARAM:e="links.id",REQ_TAG_PARAM:a,USER_PARAM:l})=>{try{console.log(t,e,a,l),n(11,d=t),n(12,g=e),n(13,E=a),n(14,x=l);const s=()=>{const t=[];d&&t.push(`order_by=${d}`),g&&t.push(`order_by_column=${g}`),E&&t.push(`tag=${E}`),x&&t.push(`user=${x}`);return`http://localhost:8000/read_all?${t.join("&")}`};console.log(s());const c=await(await fetch(s())).json();if("fail"===c.result)throw new Error(c.error);const r=await(await fetch(s())).json();if(0===r.length)throw new Error("条件に一致するデータがありませんでした");n(0,o=r.message)}catch(t){console.log(t),n(10,f=t.message)}},B=t=>({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),Y=async()=>{try{a=await(await fetch("http://localhost:8000/insert_link",B({name:l,password:c,link:r}))).json(),console.log(a),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},G=async t=>{try{a=await(await fetch("http://localhost:8000/like_increment_or_decrement",B({name:l,password:c,link_id:t}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},z=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment",B({name:l,password:c,link_id:t,comment:i}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},F=async t=>{try{a=await(await fetch("http://localhost:8000/insert_comment_reply",B({name:l,password:c,comment_id:t,comment_reply:u}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}};let I=[{value:0},{value2:1}];const V=async()=>{try{const t=await(await fetch("http://localhost:8000/get_collect_value_for_test",B({name:l,password:c}))).json();n(15,I=t.message)}catch(t){console.log(t)}},J=async(t,e)=>{try{n(7,_=e||p.value),console.log("TAG is ",_),console.log("LINK_ID is ",t),a=await(await fetch("http://localhost:8000/insert_tag",B({name:l,password:c,link_id:t,tag:_}))).json(),console.log("RESPONSE is ",a),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),200===a.status&&await Q({}),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){console.log(t),n(10,f=t.message)}},H=async()=>{const t=(await fetch("http://localhost:8000/get_tags_for_autocomplete",B({name:l,password:c}))).json(),e=await t;n(8,m=await e.message)};w((async()=>{try{await Q({}),await H()}catch(t){console.log(t)}}));return[o,l,s,c,r,i,u,_,m,p,f,d,g,E,x,I,k,v,b,T,A,L,M,q,Q,Y,async t=>{try{a=await(await fetch("http://localhost:8000/delete_link",B({name:l,password:c,id:t}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},G,z,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment",B({name:l,password:c,comment_id:t}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},F,async t=>{try{a=await(await fetch("http://localhost:8000/delete_comment_reply",B({name:l,password:c,comment_reply_id:t}))).json(),400===a.status&&console.log("RESPONSE.status: RESPONSE.status === 400"),200===a.status&&(h=a.result),"fail"===a.result?(()=>{throw new Error(a.message)})():Q({}),console.log(a.result)}catch(t){n(10,f=t.message),console.log(t),console.log(t.message)}},V,J,H,()=>n(10,f=""),function(){d=this.value,n(11,d)},function(){g=this.value,n(12,g)},function(){E=this.value,n(13,E)},function(){x=this.value,n(14,x)},function(){l=this.value,n(1,l)},function(){c=this.value,n(3,c)},function(){s=this.value,n(2,s)},function(){r=this.value,n(4,r)},()=>V(),()=>k(),()=>v(),()=>b(),()=>T(),()=>A(),()=>L(),()=>M(),()=>q(),()=>Q({}),()=>Q({USER_PARAM:"user2"}),function(t){y[t?"unshift":"push"]((()=>{p=t,n(9,p)}))},function(){_=this.value,n(7,_)},function(){i=this.value,n(5,i)},function(){u=this.value,n(6,u)}]}return new class extends L{constructor(t){super(),A(this,t,et,tt,l,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
